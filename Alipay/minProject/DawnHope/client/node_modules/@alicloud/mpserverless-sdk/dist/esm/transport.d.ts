import { HTTPTransport, HTTPResponseObject, GenericObject } from '@ant-basement/core';
import { MiniProgramFileUploadObject, MiniProgramHTTPRequestObject, MiniProgramHTTPRequestEncoder } from './codec';
export declare type OAuthScope = 'auth_user' | 'auth_zhima';
export interface MiniProgramOAuthObject {
    scopes: OAuthScope | OAuthScope[];
}
export declare class MiniProgramHTTPTransport extends HTTPTransport {
    protected scope: OAuthScope;
    protected accessToken: string;
    protected pendingRequest: Promise<any>;
    protected uploadFile: (options: MiniProgramFileUploadObject) => Promise<HTTPResponseObject>;
    protected getAuthCode: (options: MiniProgramOAuthObject) => Promise<HTTPResponseObject>;
    protected httpRequest: (options: MiniProgramHTTPRequestObject) => Promise<HTTPResponseObject>;
    constructor(endpoint: string, library: any);
    getEncoder(): MiniProgramHTTPRequestEncoder;
    request(encoder: MiniProgramHTTPRequestEncoder, retried?: boolean): Promise<HTTPResponseObject>;
    authorize(): Promise<string>;
    getAccessToken(refresh?: boolean): Promise<string>;
    upload(host: string, formData: object, fileName: string, filePath: string, header?: GenericObject<string>): Promise<HTTPResponseObject>;
    protected wrap(myMethod: any): (args: any) => Promise<HTTPResponseObject>;
}
