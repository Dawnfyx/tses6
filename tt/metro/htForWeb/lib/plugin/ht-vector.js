this.ht=this.ht||{},this.ht.vector=function(){"use strict";var ne="top",le="bottom",he="right",se="left",ue="center",h="multiple",s="single",x="radio",V="checkbox",A="x",R="y",B="HT2018-11",I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=(function(){function s(e){this.value=e}function e(i){var r,n;function l(e,t){try{var o=i[e](t),a=o.value;a instanceof s?Promise.resolve(a.value).then(function(e){l("next",e)},function(e){l("throw",e)}):h(o.done?"return":"normal",o.value)}catch(e){h("throw",e)}}function h(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?l(r.key,r.arg):n=null}this._invoke=function(a,i){return new Promise(function(e,t){var o={key:a,arg:i,resolve:e,reject:t,next:null};n?n=n.next=o:(r=n=o,l(a,i))})},"function"!=typeof i.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),n=function(){function a(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,o){return t&&a(e.prototype,t),o&&a(e,o),e}}(),o=function e(t,o,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,o);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,o,a)}if("value"in i)return i.value;var n=i.get;return void 0!==n?n.call(a):void 0},d=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},we=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],a=!0,i=!1,r=void 0;try{for(var n,l=e[Symbol.iterator]();!(a=(n=l.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw r}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},be=function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)},e=ht.Default,K=e.drawText,Z=e.drawStretchImage,$=e.getImage,q=[2,8],C={HOVER:"ht.hover",ACTIVE:"ht.active",PRESSED:"ht.pressed",DISABLED:"ht.disabled",FOCUS:"ht.focus",FONT_SIZE:"ht.fontSize",FONT_FAMILY:"ht.fontFamily",FONT:"ht.font",VALUE:"ht.value",PLACEHOLDER:"ht.placeholder",TEXT_COLOR:"ht.textColor",PADDING:"ht.padding",EDITING:"ht.editing",TEXT_ALIGN:"ht.textAlign",LINE_HEIGHT:"ht.lineHeight",WORD_BREAK:"ht.wordBreak",CHECKED:"ht.checked",LABEL:"ht.label",ICON:"ht.icon",FORM_ITEM_NAME:"ht.name",FORM_ITEM_GROUP:"ht.group",ON_CLICK:"ht.onClick",ON_CHANGE:"ht.onChange",ON_KEYDOWN:"ht.onKeyDown",ON_KEYUP:"ht.onKeyUp",ON_SELECT_ROW:"ht.onSelectRow",ON_HOVER_CELL:"ht.onHoverCell",DROP_DOWN:"ht.dropDown",FORMAT:"ht.format",SHOW_TIME:"ht.showTime",DATE_TYPE:"ht.dateType",DATA_SOURCE:"ht.dataSource",DROP_ICON_WIDTH:"ht.dropIconWidth",DROP_ICON_HEIGHT:"ht.dropIconHeight",DROP_ROW_HEIGHT:"ht.dropRowHeight",DROP_WIDTH:"ht.dropWidth",DROP_BACKGROUND:"ht.dropBackground",DROP_HOVER_BACKGROUND:"ht.dropHoverBackground",DROP_LABEL_FONT:"ht.dropLabelFont",DROP_LABEL_COLOR:"ht.dropLabelColor",DROP_ACTIVE_LABEL_COLOR:"ht.dropActiveLabelColor",DROP_ACTIVE_BACKGOUND:"ht.dropActiveBackground",DROP_MAX_HEIGHT:"ht.dropMaxHeight",INPUT_TYPE:"ht.inputType",MAX_LENGTH:"ht.maxLength",ENTER_END_INPUTABLE:"ht.enterEndInputable",HOVER_INDEX:"ht.hoverIndex",DATASOURCE:"ht.dataSource",ROW_HEIGHT:"ht.rowHeight",HEAD_HEIGHT:"ht.headHeight",TRANSLATE_X:"ht.translateX",TRANSLATE_Y:"ht.translateY",SHOW_HEAD:"ht.showHead",SELECTED_INDEX:"ht.selectedIndex",SCROLL_BAR_VISIBLE:"ht.scrollBarVisible",AUTO_HIDE_SCROLL_BAR:"ht.autoHideScrollBar",COLUMNS:"ht.columns",MULTIPLE:"ht.multiple",MAX:"ht.max",MIN:"ht.min",STEP:"ht.step",SHOW_TOOLTIP:"ht.showToolTip",TOOLTIP_FORMAT:"ht.toolTipFormat",VALUE_BAR_DRAGGABLE:"ht.valueBarDraggable",MAX_SELECTION:"ht.maxSelection",HIDE_SELECTED:"ht.hideSelected"},Ve={placeholderColor:"#737373",fontSize:12,fontFamily:"arial,  sans-serif",emptyColor:"rgba(0,0,0,0)",hoverDarker:5,activeDarker:11},t=ht.Default,re=t.drawText,de=t.drawStretchImage,ce=t.getImage,ee=ht.Default.drawText,l=/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/,g=/^[rR][gG][Bb][\(]((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),){2}((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?))\)$/,f=/^[rR][gG][Bb][Aa][\(]((2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),){3}(0\.\d{1,22}|1|0)?[\)]{1}$/,v=function(){function i(e,t,o,a){u(this,i),this.r=null,this.g=null,this.b=null,this.a=null,e&&this.setColor(e,t,o,a)}return n(i,[{key:"setColor",value:function(e,t,o,a){if(e&&!t)if(e=e.replace(/\s+/g,""),l.test(e))4===e.length?(this.r=parseInt(e[1]+e[1],16),this.g=parseInt(e[2]+e[3],16),this.b=parseInt(e[3]+e[3],16)):7===e.length&&(this.r=parseInt(e.substring(1,3),16),this.g=parseInt(e.substring(3,5),16),this.b=parseInt(e.substring(5,7),16));else if(g.test(e)){var i=(e=e.replace(/[rRgGbB\(\)\s]*/g,"")).split(",");this.r=parseInt(i[0]),this.g=parseInt(i[1]),this.b=parseInt(i[2])}else if(f.test(e)){var r=(e=e.replace(/[rRgGbBaA\(\)\s]*/g,"")).split(",");this.r=parseInt(r[0]),this.g=parseInt(r[1]),this.b=parseInt(r[2]),this.a=parseFloat(r[3])}}},{key:"toString",value:function(){return 1!==this.a&&null!==this.a?this.getRGBA():this.getWebColor()}},{key:"getRGB",value:function(){var e=this.r,t=this.g,o=this.b;return null!==e&&null!==t&&null!==o?"rgb("+e+", "+t+", "+o+")":null}},{key:"getRGBA",value:function(){var e=this.r,t=this.g,o=this.b,a=this.a;return null!==e&&null!==t&&null!==o?"rgba("+e+", "+t+", "+o+", "+(null===a?1:a.toFixed(2))+")":null}},{key:"getWebColor",value:function(){var e=this.r,t=this.g,o=this.b;return null!==e&&null!==t&&null!==o?"#"+this._getWebValue(e)+this._getWebValue(t)+this._getWebValue(o):null}},{key:"_getWebValue",value:function(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}}]),i}(),a=ht.Default,G=a.drawText,Y=a.drawStretchImage,U=a.getImage,j="#ffffff",X="#cccccc",z=new v,i=ht.Default,ge=i.drawText,fe=i.drawStretchImage,ve=i.getImage,J=function(e,t){return e<=1?t*e:e},Q=void 0,te=void 0,oe=void 0,ae=void 0,ie=void 0,pe=void 0,ye=function(e,t){return t?(e-pe)/Q*te+oe:ae-(e-pe)/Q*te},me=ht.Default.drawText,xe=function(e,t){return e<1?t*e:e},k=Math.max,D=Math.min,r=ht.Default,T=r.containsPoint,Ce=r.drawRoundRect,ke=4;function _(e,t){e._hideBarTimer&&(clearTimeout(e._hideBarTimer),e._hideBarTimer=null),e._hideBarTimer=setTimeout(function(){t._scrolldragInfo||(t.scrollBarVisible=!1,e.iv())},1e3)}var p=ht.Default,De=p.drawText,Te=p.drawStretchImage,_e=p.getImage,Ie=p.drawBorder,Pe=p.intersectsRect,Se=/\n/g;var N=ht.Default.drawText,y=ht.Default,Le=y.drawRoundRect,Ee=y.drawImage,Me=function(e,t,o,a){var i=t.x,r=t.y,n=t.width,l=t.height;e.fillStyle=o,e.beginPath(),Le(e,i,r,n,l,a),e.closePath(),e.fill()},m=function(e,t,o,a,i){var r=o.getValue("min"),n=o.getValue("max"),l=o.getValue("value"),h=o.getValue("step"),s=o.getValue("sliderImage"),u=o.getValue("sliderBorderWidth"),d=o.getValue("sliderBorderRadius"),c=o.getColor("sliderBorderColor"),g=o.getColor("sliderBackground"),f=o.getValue("sliderWidth"),v=o.getValue("sliderHeight"),p=o.getValue("sliderOffsetX"),y=o.getValue("sliderOffsetY"),m=o.getColor("barBackground"),x=o.getColor("barValueBackground"),b=o.getValue("barGradient"),w=o.getColor("barGradientColor"),V=o.getValue("barWidth"),C=o.getValue("barBorderRadius"),k=o.getValue("padding"),D=o.getValue("disabled"),T=o.getColor("disabledLayerColor"),_=o.getColor("showToolTip"),I=o.getColor("toolTipFormat"),P=lo(i,a,o);l=Math.min(n,Math.max(r,l));var S=t.x,L=t.y,E=t.width,M=t.height,A=Math.abs(n-r),R={x:S+k,y:L+(M-V)/2,width:E-2*k,height:V};C<1&&(C*=V),Me(e,R,m,C);var B=ht.Default.clone(R);B.width*=(l-r)/A,b&&(x=ht.Default.createGradient(e,b,x,w,R.x,R.y,R.width,R.height)),Me(e,B,x,C);var O=B.x+B.width-f/2+p,H=B.y+(V-v)/2+y;s?Ee(e,ht.Default.getImage(s),O,H,f,v):(d<1&&(d*=Math.min(f,v)),e.beginPath(),Le(e,O,H,f,v,d),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=c,e.stroke())),D&&(e.fillStyle=T,e.fillRect(S,L,E,M)),P&&(P.disabled=D,P.value=l,P.max=n,P.min=r,P.step=h,P.showToolTip=_,P.toolTipFormat=I,P.barRect=R,P.onChange=o.getValue("onChange"),P.sliderRect={x:O,y:H,width:f,height:v})},b=function(e,t,o,a,i){var r=o.getValue("min"),n=o.getValue("max"),l=o.getValue("value"),h=o.getValue("step"),s=o.getValue("sliderImage"),u=o.getValue("sliderBorderWidth"),d=o.getValue("sliderBorderRadius"),c=o.getColor("sliderBorderColor"),g=o.getColor("sliderBackground"),f=o.getValue("sliderWidth"),v=o.getValue("sliderHeight"),p=o.getValue("sliderOffsetX"),y=o.getValue("sliderOffsetY"),m=o.getColor("barBackground"),x=o.getColor("barValueBackground"),b=o.getValue("barGradient"),w=o.getColor("barGradientColor"),V=o.getValue("barWidth"),C=o.getValue("barBorderRadius"),k=o.getValue("padding"),D=o.getValue("disabled"),T=o.getColor("disabledLayerColor"),_=o.getColor("showToolTip"),I=o.getColor("toolTipFormat"),P=lo(i,a,o),S=t.x,L=t.y,E=t.width,M=t.height,A=we(l,2),R=A[0],B=A[1];R=Math.max(r,R),B=Math.min(n,B);var O=Math.abs(n-r),H={x:S+k,y:L+(M-V)/2,width:E-2*k,height:V};C<1&&(C*=V),Me(e,H,m,C);var W=ht.Default.clone(H);W.width*=(B-R)/O,W.x+=(R-r)/O*H.width,b&&(x=ht.Default.createGradient(e,b,x,w,H.x,H.y,H.width,H.height)),Me(e,W,x,C);var N=W.x-f/2+p,F=W.x+W.width-f/2+p,G=W.y+(V-v)/2+y;s?(Ee(e,ht.Default.getImage(s),N,G,f,v),Ee(e,ht.Default.getImage(s),F,G,f,v)):(d<1&&(d*=Math.min(f,v)),e.beginPath(),Le(e,N,G,f,v,d),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=c,e.stroke()),e.beginPath(),Le(e,F,G,f,v,d),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=c,e.stroke())),D&&(e.fillStyle=T,e.fillRect(S,L,E,M)),P&&(P.disabled=D,P.value=l,P.max=n,P.min=r,P.step=h,P.valueBarDraggable=o.getValue("valueBarDraggable"),P.onChange=o.getValue("onChange"),P.showToolTip=_,P.toolTipFormat=I,P.barRect=H,P.valueBarRect=W,P.sliderRect={x:N,y:G,width:f,height:v},P.sliderRect2={x:F,y:G,width:f,height:v})},w=ht.Default,Ae=w.drawRoundRect,Re=w.drawText,Be=w.createGradient,P=ht.Default,Oe=P.drawText,He=P.drawStretchImage,We=P.getImage,S=ht.Default.drawImage,L=function(){function e(){u(this,e)}return n(e,[{key:"onClick",value:function(e,t,o,a,i,r){}},{key:"onDoubleClick",value:function(e,t,o,a,i,r){}},{key:"onDown",value:function(e,t,o,a,i,r){}},{key:"onUp",value:function(e,t,o,a,i,r){}},{key:"onMove",value:function(e,t,o,a,i,r){}},{key:"onEnter",value:function(e,t,o,a,i,r){}},{key:"onHover",value:function(e,t,o,a,i,r){}},{key:"onLeave",value:function(e,t,o,a,i,r){}},{key:"onBeginDrag",value:function(e,t,o,a,i,r){}},{key:"onDrag",value:function(e,t,o,a,i,r){}},{key:"onEndDrag",value:function(e,t,o,a,i,r){}},{key:"onScroll",value:function(e,t,o,a,i,r){}}]),e}(),E=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,L),n(t,[{key:"onEnter",value:function(e,t,o,a,i,r){var n=lo(o,t,this);n.defaultCursor=o.getView().style.cursor,n.disabled?fo(o,"not-allowed"):fo(o,"text")}},{key:"onLeave",value:function(e,t,o,a,i,r){var n=lo(o,t,this);fo(o,n.defaultCursor||"default")}},{key:"onDown",value:function(e,i,r,t,o,a){var n=lo(r,i,this);if(!n.disabled&&!n.editing){var l=n.font,h=n.value,s=n.textAlign,u=n.maxLength,d=n.textColor,c=n.wordBreak,g=(n.enterEndInputable,n.padding),f=n.onKeyDown,v=n.onKeyUp,p=n.onChange,y=n.lineHeight,m=jt("textarea"),x=m.style,b=po(this,"value"),w=Yt(g),V=we(w,4),C=V[0],k=V[1],D=V[2],T=V[3];x.color=d,x.font=l,x.paddingTop=C+"px",x.paddingRight=k+"px",x.paddingBottom=D+"px",x.paddingLeft=2+T+"px",x.textAlign=s,x.resize="none",x.overflow="hidden",x.lineHeight=y+"px",x.wordBreak=c?"break-all":"keep-word",m.value=h||"",u&&m.setAttribute("maxlength",u),r.appendHTML(m);var _=no(r,i,this);_&&Xt(r,m,_),n.editing=!0,n.editingValue=h,i.iv();var I=function(e){Xt(r,m,_)},P=function e(t){var o=m.getBoundingClientRect(),a=ht.Default.getClientPoint(t);ht.Default.containsPoint(o,a)||(t.preventDefault(),so(i,r,m,n,b),r.ump(I),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};setTimeout(function(){m.focus(),r.mp(I);var t=null;m.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=m.value,i.a(b,m.value)},10),9===e.keyCode&&(so(i,r,m,n,b),r.getView().removeEventListener("mousedown",P),r.getView().removeEventListener("touchstart",P)),f&&f(e,i)}),(v||p)&&m.addEventListener("keyup",function(e){v&&f(e,i),p&&v(m.value,i)}),r.getView().addEventListener("mousedown",P),r.getView().addEventListener("touchstart",P)},1)}}},{key:"onDrag",value:function(e,t,o,a,i,r){}}]),t}(),M=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,L),n(t,[{key:"onEnter",value:function(e,t,o,a,i,r){var n=lo(o,t,this);n.defaultCursor=o.getView().style.cursor,n.disabled?fo(o,"not-allowed"):fo(o,"text")}},{key:"onLeave",value:function(e,t,o,a,i,r){var n=lo(o,t,this);fo(o,n.defaultCursor||"default")}},{key:"onDown",value:function(e,i,r,t,o,a){var n=lo(r,i,this);if(!n.disabled&&!n.editing){var l=n.font,h=n.value,s=n.textAlign,u=n.maxLength,d=n.textColor,c=n.inputType,g=n.enterEndInputable,f=n.padding,v=n.onKeyDown,p=n.onKeyUp,y=n.onChange,m=i.getAnchorRect(),x=jt(),b=d||Ve.textColor,w=x.style,V=po(this,"value"),C=Yt(f),k=we(C,4),D=k[0],T=k[1],_=k[2],I=k[3];c&&(x.type=c),w.color=b,w.font=l,w.paddingTop=D+"px",w.paddingRight=T+"px",w.paddingBottom=_+"px",w.paddingLeft=2+I+"px",w.lineHeight=m.height+"px",w.textAlign=s,x.value=h||"",x.spellcheck=!1,u&&x.setAttribute("maxlength",u),r.appendHTML(x);var P=no(r,i,this);P&&Xt(r,x,P),n.editing=!0,n.editingValue=h,i.iv();var S=function(e){Xt(r,x,P)},L=function e(t){var o=x.getBoundingClientRect(),a=ht.Default.getClientPoint(t);ht.Default.containsPoint(o,a)||(t.preventDefault(),so(i,r,x,n,V),r.ump(S),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};setTimeout(function(){x.focus(),r.mp(S);var t=null;x.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=x.value,i.a(V,x.value)},10),(9===e.keyCode||g&&ht.Default.isEnter(e))&&(so(i,r,x,n,V),r.getView().removeEventListener("mousedown",L),r.getView().removeEventListener("touchstart",L)),v&&v(e,i)}),(p||y)&&x.addEventListener("keyup",function(e){p&&p(e,i),y&&y(x.value,i)}),r.getView().addEventListener("mousedown",L),r.getView().addEventListener("touchstart",L)},1)}}},{key:"onDrag",value:function(e,t,o,a,i,r){}}]),t}(),F=ht.Default.containsPoint,Ne=function(e,t,o,a,i,r,n){if(a&&(a.editing=!1,delete a.dom),i){var l=parseFloat(o.value);co(n)||(l=Math.min(l,n)),co(r)||(l=Math.max(l,r)),e.a(i,l)}e.iv(),t.getView().removeChild(o)},O=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,L),n(t,[{key:"onEnter",value:function(e,t,o,a,i,r){var n=lo(o,t,this);n.defaultCursor=o.getView().style.cursor,n.disabled?fo(o,"not-allowed"):fo(o,"text")}},{key:"onLeave",value:function(e,t,o,a,i,r){fo(o,"default")}},{key:"onDown",value:function(e,i,r,t,o,a){var n=lo(r,i,this),l=no(r,i,this),h=n.buttonRects,s=n.onKeyDown,u=n.onKeyUp,d=n.onChange,c=n.min,g=n.max,f={x:t.x+l.rect.x,y:t.y+l.rect.y},v=h&&(F(h[0],f)||F(h[1],f));if(!n.disabled)if(n.editing||v){if(v){var p=n.step,y=po(this,"value");if(!y)return;var m=n.dom&&n.dom.value||i.a(y)||c||0,x=void 0;F(h[0],f)?(x=yo(parseFloat(m),p),co(g)||(x=Math.min(x,g))):(x=mo(parseFloat(m),p),co(c)||(x=Math.max(x,c))),n.editing?(n.editingValue=n.dom.value=x,i.iv()):i.a(y,x),d&&m!==x&&d(x,i)}}else{var b=n.font,w=n.value,V=n.textAlign,C=n.maxLength,k=n.textColor,D=n.enterEndInputable,T=n.padding,_=i.getAnchorRect(),I=jt(),P=k||Ve.textColor,S=I.style,L=po(this,"value"),E=Yt(T),M=we(E,4),A=M[0],R=M[1],B=M[2],O=M[3];S.color=P,S.font=b,S.paddingTop=A+"px",S.paddingRight=R+"px",S.paddingBottom=B+"px",S.paddingLeft=2+O+"px",S.lineHeight=_.height+"px",S.textAlign=V,I.value=w||"",I.spellcheck=!1,C&&I.setAttribute("maxlength",C),r.appendHTML(I);var H=no(r,i,this);H&&Xt(r,I,H),n.editing=!0,n.editingValue=w,n.dom=I,i.iv();var W=function(e){Xt(r,I,H)},N=function e(t){var o=I.getBoundingClientRect(),a=ht.Default.getClientPoint(t);ht.Default.containsPoint(o,a)||(t.preventDefault(),Ne(i,r,I,n,L,c,g),r.ump(W),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};setTimeout(function(){I.focus(),r.mp(W);var t=null;I.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=I.value,i.a(L,I.value)},10),(9===e.keyCode||D&&ht.Default.isEnter(e))&&(Ne(i,r,I,n,L,c,g),r.getView().removeEventListener("mousedown",N),r.getView().removeEventListener("touchstart",N)),s&&s(e,i)}),I.addEventListener("keyup",function(e){u&&u(e,i),d&&d(parseFloat(I.value),i)}),I.addEventListener("input",function(e){e.target.value=e.target.value.replace(/[^\d\.{1}]/g,"")}),r.getView().addEventListener("mousedown",N),r.getView().addEventListener("touchstart",N)},1)}}},{key:"onMove",value:function(e,t,o,a,i,r){var n=lo(o,t,this),l=no(o,t,this),h=n.buttonRects,s={x:a.x+l.rect.x,y:a.y+l.rect.y},u="text";n.disabled?u="not-allowed":h&&(ht.Default.containsPoint(h[0],s)||ht.Default.containsPoint(h[1],s))&&(n.oldCursor,u="pointer"),fo(o,u),n.dom&&(n.dom.style.cursor=u)}}]),t}(),H=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,L),n(t,[{key:"onDown",value:function(e,t,o,a,i,r){var n=lo(o,t,this);n.disabled||(n.pressed=!0,t.iv())}},{key:"onEnter",value:function(e,t,o,a,i,r){var n=lo(o,t,this);n.defaultCursor=o.getView().style.cursor,n.disabled?fo(o,"not-allowed"):fo(o,"pointer"),n.disabled||(n.hover=!0,t.iv())}},{key:"onLeave",value:function(e,t,o,a,i,r){var n=lo(o,t,this);fo(o,n.defaultCursor||"default"),delete n.defaultCursor,n.hover=!1,t.iv()}}]),t}(),W=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,H),n(t,[{key:"onUp",value:function(e,t,o,a,i,r){var n=lo(o,t,this),l=n.onClick;n.disabled||(n.pressed=!1,t.iv(),l&&0<a.x&&a.x<i&&0<a.y&&a.y<r&&l(e,t,o))}}]),t}(),Fe=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,H),n(t,[{key:"onUp",value:function(e,t,o,a,i,r){var n=lo(o,t,this),l=n.disabled,h=n.pressed,s=po(this,"checked"),u=po(this,"group");if(!l){t.a(h,!1),t.iv();var d=n.value,c=n.onChange,g=n.group;if(!t.a(s)&&0<a.x&&a.x<i&&0<a.y&&a.y<r){var f=t.a(s);o&&o.dm()&&!f&&g&&o.dm().each(function(e){g===e.a(u)&&e.a(s,!1)}),t.a(s,!0),c&&c(void 0===d||d,t,o)}}}}]),t}(),Ge=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,H),n(t,[{key:"onUp",value:function(e,t,o,a,i,r){var n=lo(o,t,this),l=n.disabled,h=n.pressed,s=po(this,"checked"),u=po(this,"group"),d=po(this,"value");if(!l){t.a(h,!1),t.iv();n.value;var c=n.group,g=n.onChange;if(0<a.x&&a.x<i&&0<a.y&&a.y<r){var f=t.a(s);if(t.a(s,!f),g)if(c){var v=[];o.dm().each(function(e){c===e.a(u)&&e.a(s)&&v.push(e.a(d))}),g(v)}else g(!f,t,o)}}}}]),t}(),Ye=function(){function i(t,e,o,a){u(this,i),this.data=t,this.graph=e,this.vectorInfo=o,this.valueType=a,this._documentClickHandler=this.documentClickHandler.bind(this),ht.Default.addMethod(t,{isInstant:function(){return this.s("instant")},setInstant:function(e){t.s("instant",e)}})}return n(i,[{key:"init",value:function(){var e=this;this._initing=!0;var t=this.data,o=this.graph,a=o.getZoom(),i=(o.tx(),o.ty(),this.value),r=new this.dropDownClazz,n=r._dropDownView=r.initDropDownView(t,this.getDatas(),i);r.getDropDownView=function(){return n},n.on("d:click",function(e){e.stopPropagation()}),n.on("d:mousedown",function(e){e.stopPropagation()}),this._dropDown=r,this._dropDownView=n,this.onInit(r,n);t.getWidth(),t.getHeight();var l=wo(this.vectorInfo.comp,this.data,this.graph);this.prepareLayoutDropDown(r,n,{left:l.x,top:l.y,width:l.widht,height:l.height}),o.getView().appendChild(n.getView()),r.addValueChangeListener(this.handleDropDownValueChange,this),r.addDropDownListener(this.handleDropDownChange,this),setTimeout(function(){e.registerCloseEvent(e._documentClickHandler)},100),r.afterOpen(i),n.iv(!0),this._initing=!1}},{key:"onInit",value:function(e,t){}},{key:"getDatas",value:function(){return null}},{key:"prepareLayoutDropDown",value:function(e,t,o){var a=e.getWidth(),i=e.getHeight(),r=ht.Default.getWindowInfo(),n=o.left+r.left,l=o.top+o.height+r.top;n+a>r.left+r.width&&(n=r.left+r.width-a),l+i>r.top+r.height&&(l-=o.height+i)<r.top&&(l=r.top),t.setX(Math.max(0,n)),t.setY(l),t.setWidth(a),t.setHeight(i)}},{key:"registerCloseEvent",value:function(e){ht.Default.isTouchable?document.addEventListener("touchstart",e):document.addEventListener("mousedown",e)}},{key:"unregisterCloseEvent",value:function(e){ht.Default.isTouchable?document.removeEventListener("touchstart",e):document.removeEventListener("mousedown",e)}},{key:"_clearDropDown",value:function(){this._dropDown=this._dropDownView=null,this.vectorInfo.editing=!1,this.data.iv()}},{key:"documentClickHandler",value:function(e){var t=this.data,o=this.graph;if(ht.Default.isLeftButton(e)){var a=this._dropDown,i=this._dropDownView;if(i){var r=t.getWidth(),n=t.getHeight(),l=o.tx(),h=o.ty(),s=o.getZoom(),u={x:t.getX()*s+l-r*t.getAnchor().x,y:t.getY()*s+h-n*t.getAnchor().y,width:r,height:n},d=i.containsEvent?i.containsEvent(e):a.isClickOnDropDownView(e);ht.Default.containsPoint(u,ht.Default.getClientPoint(e))||d||this.close()}}}},{key:"close",value:function(){var e=this;!e._initing&&e._dropDown&&(e._dropDown.cancel(),this.vectorInfo.editing=!1,delete e._dropDown,delete e._dropDownView,this.data.iv())}},{key:"handleDropDownValueChange",value:function(e){this.value=e.value}},{key:"open",value:function(){this.isOpened()||(this.init(),this.vectorInfo.editing=!0,this.data.iv())}},{key:"isOpened",value:function(){return!!this._dropDown}},{key:"handleDropDownChange",value:function(e){this.data;var t=this,o=t._dropDown,a=t._dropDownView;if(o){if(o.beforeClose(),"stop"===e.kind){var i=o.getDropDownValue();void 0!==i&&(this.value=i)}t._clearDropDown(),ht.Default.removeHTML(a.getView()),o.removeValueChangeListener(t.handleDropDownValueChange,t),this.unregisterCloseEvent(this._documentClickHandler),o.afterClose()}}},{key:"value",get:function(){var e=this.data,t=this.valueType.split("@"),o=we(t,2),a=o[0],i=o[1];if("a"===a)return e.a(i);if("s"===a)return e.s(i);if("p"===a){var r=ht.Default.getter(i);if(e[r])return e[r]()}return null},set:function(e){var t=this.data,o=this.valueType,a=this.graph,i=o.split("@"),r=we(i,2),n=r[0],l=r[1],h=this.vectorInfo.onChange,s=this.value;if("a"===n)t.a(l,e);else if("s"===n)t.s(l,e);else if("p"===n){var u=ht.Default.setter(l);t[u]&&t[u](e)}h&&h(s,e,t,a)}}]),i}(),Ue=function(e){function r(e,t,o,a){u(this,r);var i=c(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,o,a));return i.dropDownClazz=ht.ui.ColorDropDown,i}return d(r,Ye),r}(),je=function(e,t,o,a){var i=o.dropDown;i||(i=new Ue(e,t,o,"a@"+a),o.dropDown=i),i.open()},Xe=function(e){function r(e,t,o,a){u(this,r);var i=c(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,o,a));return i.dropDownClazz=ht.ui.DateTimeDropDown,i}return d(r,Ye),n(r,[{key:"onInit",value:function(e,t){var o=this.data.a(C.DATE_TYPE);e.setPropertyValue("dateTimePane.type",o,!0)}}]),r}(),ze=function(e,t,o,a){var i=o.dropDown;i||(e.getFormat=function(){return e.a(C.FORMAT)},i=new Xe(e,t,o,a),o.dropDown=i),i.open()},Ke=(function(e){function i(e,t,o){u(this,i);var a=c(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t,o));return a.dropDownClazz=ht.ui.ListDropDown,a}d(i,Ye),n(i,[{key:"getDatas",value:function(){return[{id:void 0,label:""},{id:"0",label:"Female"},{id:"1",label:"Male"}]}}])}(),function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,H),n(t,[{key:"onUp",value:function(e,t,o,a,i,r){var n=lo(o,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=po(this,"value",t,o);0<a.x&&a.x<i&&0<a.y&&a.y<r&&je(t,o,n,l)}}}]),t}()),Ze=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,H),n(t,[{key:"onUp",value:function(e,t,o,a,i,r){var n=lo(o,t,this);if(!n.disabled){var l=po(this,"value");0<a.x&&a.x<i&&0<a.y&&a.y<r&&ze(t,o,n,"a@"+l)}}}]),t}(),$e=function(e){function t(e){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return d(t,e),n(t,[{key:"handle_mousedown",value:function(e){this.handle_touchstart(e)}},{key:"handle_touchstart",value:function(e){if(e.stopPropagation(),!this.gv.isOnScrollBar(e)){var t=this.gv,o=t.getDataAt(e);o&&t.sm().ss(o)}}},{key:"handle_mousemove",value:function(e){var t=this.gv,o=t._hoverData,a=t.getDataAt(e);a!==o&&(t._hoverData=a&&t.sm().contains(a)?null:a,console.log(t._hoverData),t.redraw())}},{key:"handle_mouseleave",value:function(e){var t=this.gv;t._hoverData&&(t._hoverData=null,t.redraw())}},{key:"handle_mouseup",value:function(e){this.handle_touchend(e)}},{key:"handle_touchend",value:function(e){}}]),t}(ht.graph.Interactor),qe={hoverDarker:5,activeDarker:11,baseColor:"#3399ff",baseColor2:"#737373",hoverBackground:"#eeeeee",emptyColor:"#ffffff",fontSize:12,fontFamily:"arial, sans-serif",font:"12px arial sans-serif",disabledColor:"#ebebeb",disabledBackground:"#fafafa",inputTextColor:"#111111",placeholderColor:"#737373"},Je=function(e){function a(e){u(this,a);var t=c(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));t.setInteractors([new ht.graph.ScrollBarInteractor(t),new $e(t),new ht.graph.DefaultInteractor(t),new ht.graph.TouchInteractor(t,{editable:!1})]),t.addBottomPainter(t.drawBottomPainter.bind(t)),t.setAutoHideScrollBar(!1),t._nodes=[];var o=t.getView().style;return o.transition="all 0.2s",o.transitionOrigin="0 0",t}return d(a,e),n(a,[{key:"adjustTranslateX",value:function(){return 0}},{key:"isMovable",value:function(){return!1}},{key:"adjustZoom",value:function(){return 1}},{key:"adjustTranslateY",value:function(e){var t=this,o=this.dm().toDatas(function(e){return t.isVisible(e)}),a=this.getHeight()-o.size()*this._rowHeight;return 0<=e||0<=a?0:a<e?e:a}},{key:"handleScroll",value:function(e){var t=Ft?-e.detail:e.wheelDelta/40;(Ft||e.wheelDelta!==e.wheelDeltaX)&&this.translate(0,t)}},{key:"onPropertyChanged",value:function(e){o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"onPropertyChanged",this).call(this,e);var t=e.property;"dataModel"!==t&&"fileSize"!==t||this.doLayoutLater()}},{key:"doLayoutLater",value:function(){this._doLayoutLater||(this._doLayoutLater=!0,ht.Default.callLater(this.doLayout,this))}},{key:"onValidated",value:function(){this._lastWidth!==this.getWidth()&&this.doLayoutLater()}},{key:"isVisible",value:function(e){return!0}},{key:"doLayout",value:function(){var t=this;this._doLayoutLater=!1;this._lastWidth=this.getWidth();var o=this._iconHeight,a=this._iconWidth,i=this._rowHeight,r=this._nodes=[];this.dm().getDatas().each(function(e){t.isVisible(e)&&r.push(e)}),this._lastHeight=this.getHeight();var n=8+.5*a,l=.5*i;r.forEach(function(e,t){e.setSize(a,o),e.p(n,l),l+=i})}},{key:"drawBottomPainter",value:function(t){var o=this,a=this._rowHeight,i=this.getWidth(),r=this._hoverData;this.dm().toDatas(this.isVisible,this).each(function(e){o.isSelected(e)?(t.beginPath(),t.rect(0,e.p().y-a/2,i,a),t.fillStyle=o.getActiveColor()||qe.baseColor,t.fill()):e===r&&(t.beginPath(),t.rect(0,e.p().y-a/2,i,a),t.fillStyle=o.getHoverBackground()||qe.hoverBackground,t.fill())})}},{key:"getDataAt",value:function(e){var t=Math.floor(this.lp(e).y/this._rowHeight);return this._nodes[t]}},{key:"handleSelectionChange",value:function(e){o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"handleSelectionChange",this).call(this,e),this.redraw()}},{key:"getSelectWidth",value:function(){return 0}},{key:"isOnScrollBar",value:function(e){var t=this.getViewRect(),o=this.getScrollRect(),a=this.getScrollBarSize(),i=this.lp(e);return ht.Default.isTouchable&&(a*=1.5),o.height>t.height&&i.x-t.x>t.width-a}}]),a}(ht.graph.GraphView);Jt(Je,{ms_ac:["rowHeight","iconWidth","iconHeight","activeColor","hoverBackground"],_rowHeight:26,_iconWidth:20,_iconHeight:20});var Qe=function(e){function l(e,t,o,a,i){u(this,l);var r=c(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));r.setSelectionMode(i?h:s),r._master=e,r._masterGraph=t,r._vectorInfo=o,r._valueName=a,r._transition=!1,r._documentClickHandler=r.documentClickHandler.bind(r),r._previousValue=null,r.dm().setAutoAdjustIndex(!1),r.setInteractors([new ht.graph.ScrollBarInteractor(r),new ht.graph.MoveInteractor(r),new ht.graph.DefaultInteractor(r),new ht.graph.TouchInteractor(r)]);var n=r.getView().style;return n.height=0,n.boxShadow="rgba(0, 0, 0, 0.3) 0px 8px 22px",zt(n,"transition","all 0.3s esse-in"),r.mi(function(e){e.event&&(e.event.preventDefault(),e.event.stopPropagation()),"clickData"===e.kind&&r.handleSelectData(e.data)}),r.sm().ms(function(e){r.dm().each(function(e){e instanceof ht.Text&&e.s("text.color",r.getLabelColor(e))})}),r.mp(function(e){"background"===e.property&&(n.background=e.newValue)}),r.getView().addEventListener("mousemove",function(e){var t=r._hoverData,o=r.getDataAt(e);o!==t&&(r._hoverData=o&&r.sm().contains(o)?null:o,r.redraw())}),r._initStyleByMaster(),r}return d(l,Je),n(l,[{key:"_initStyleByMaster",value:function(){var e=this._vectorInfo;this.setIconHeight(e.dropIconWidth),this.setIconWidth(e.dropIconHeight),this.setRowHeight(e.dropRowHeight),this.setDropWidth(e.dropWidth),this.setBackground(e.dropBackground),this.setHoverBackground(e.dropHoverBackground),this.setActiveColor(e.dropActiveBackground),this.setDropLabelColor(e.dropLabelColor),this.setDropActiveLabelColor(e.dropActiveLabelColor),this.setDropLabelFont(e.dropLabelFont),this.setMaxHeight(e.dropMaxHeight)}},{key:"handleSelectData",value:function(e){var t=this._master,o=this._vectorInfo,a=o.onChange,i=this.sm().getSelectionMode(),r=o.dataSource;if(r&&0!==r.length&&e){if(i===s)this.sm().ss(e);else{if(this.sm().co(e))return;this.sm().as(e)}var n=e.a("value");if(i===s)t.a(this._valueName,n),t.a(C.LABEL,this.__getLabel()),t.a(C.ICON,e.a("icon"));else{var l=this._previousValue,h=o.maxSelection;if(n=[n],l&&l.indexOf(n[0])<0)n=l.concat(n);else if(l)return;0<h&&n.length>h&&n.shift(),t.a(this._valueName,n)}a&&a(this._previousValue,n,t,this._masterGraph),this.close()}}},{key:"setSelectionMode",value:function(e){h!==e&&s!==e||this.sm().setSelectionMode(e)}},{key:"getNodeValue",value:function(e){return e.a("value")||e.s("label")||e.s("text")}},{key:"getNodeLabel",value:function(e){return e.s("label")||e.s("text")||e.a("value")}},{key:"setData",value:function(e){var o=this,a=this.dm();a.clear(),e&&e.length&&(e.forEach(function(e){var t;e.icon?((t=new ht.Node).setImage(e.icon),t.s({pixelPerfect:!1,"image.stretch":"uniform",label:(e.label||e.value)+"","label.position":20,"label.offset.x":4,"label.font":o.getDropLabelFont()})):(t=new ht.Text).s({text:(e.label||e.value)+"",pixelPerfect:!1,"text.color":o.getLabelColor(t),"text.font":o.getDropLabelFont()}),t.a(e),a.add(t)}),this.setDropHeight(Math.min(this.getMaxHeight(),e.length*this.getRowHeight())))}},{key:"getValue",value:function(){var t=this,e=this.sm(),o=e.getSelection(),a=e.getSelectionMode();if(s===a)return 0===o.size()?null:this.getNodeValue(o.get(0));if(h===a){var i=[];return o.each(function(e){i.push(t.getNodeValue(e))}),i}return null}},{key:"__getLabel",value:function(){var t=this,e=this.sm(),o=e.getSelection(),a=e.getSelectionMode();if(s===a)return 0===o.size()?null:this.getNodeLabel(o.get(0));if(h===a){var i=[];return o.each(function(e){i.push(t.getNodeLabel(e))}),i}return null}},{key:"toggle",value:function(){this._transition||(this._opened?this.close():this.open())}},{key:"__scrollToIndex",value:function(e){this.dm().getDatas(),this.sm();var t=this.getMaxHeight(),o=this.getRowHeight();t<e*o?this.ty(t-(e+1)*o):this.ty(0)}},{key:"open",value:function(){var o=this,e=this._master,t=(this._masterGraph,this.getView().style),a=this.getDropWidth(),i=this.getDropHeight(),r=e.a(this._valueName);this.sm().cs(),r?"string"==typeof r?this.dm().each(function(e,t){e.a("value")===r&&(o.sm().ss(e),o.__scrollToIndex(t))}):r.length&&r.forEach(function(t){o.dm().each(function(e){e.a("value")===t&&o.sm().as(e)})}):this.ty(0),this._previousValue=r,this._vectorInfo.editing=!0,this._master.iv(),this.layoutByMaster(),this.setWidth(a),this.setHeight(i),zt(t,"transform","scaleY(0)"),document.body.appendChild(this.getView()),this._transition=!0,this.registerCloseEvent(this._documentClickHandler),this.doLayout(),ht.Default.callLater(function(){zt(t,"transform","scaleY(1)"),setTimeout(function(){o.redraw(),o.setOpened(!0),o._transition=!1},300)})}},{key:"layoutByMaster",value:function(){this._master,this._masterGraph;var e=wo(this._vectorInfo.comp,this._master,this._masterGraph),t=ht.Default.getWindowInfo(),o=this.getView().style,a=this.getDropWidth(),i=this.getDropHeight(),r=Math.max(0,e.x),n=e.y+e.height,l="50% 0";n+i>t.height&&n-e.height>i&&(n=n-i-e.height,l="50% 100%"),r+a>t.width&&(r=t.width-a),o.left=r+"px",o.top=n+"px",zt(o,"transformOrigin",l)}},{key:"onOpen",value:function(){}},{key:"close",value:function(){var e=this;if(!this._transition){var t=this.getView(),o=t.style;this._vectorInfo.editing=!1,this._master.iv(),this._transition=!0,this.unRegisterCloseEvent(this._documentClickHandler),zt(o,"transform","scaleY(0)"),setTimeout(function(){document.body.removeChild(t),e._transition=!1,e.setOpened(!1)},301)}}},{key:"registerCloseEvent",value:function(e){ht.Default.isTouchable?document.addEventListener("touchstart",e):document.addEventListener("mousedown",e)}},{key:"unRegisterCloseEvent",value:function(e){ht.Default.isTouchable?document.removeEventListener("touchstart",e):document.removeEventListener("mousedown",e)}},{key:"documentClickHandler",value:function(e){var t=this._master,o=this._masterGraph,a=wo(this._vectorInfo.comp,t,o);ht.Default.containsPoint(a,ht.Default.getClientPoint(e))||this.close()}},{key:"getLabelColor",value:function(e){return this.sm().co(e)?this.getDropActiveLabelColor():this.getDropLabelColor()}},{key:"getScrollRect",value:function(){return o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"getScrollRect",this).call(this)}},{key:"isVisible",value:function(e){return!this._vectorInfo.hideSelected||!this.sm().co(e)}}]),l}();function et(e,t,o,a,i){var r=o.dropDown;r||(r=window.dp=new Qe(e,t,o,a,i),o.dropDown=r),r._transition||(r.isOpened()||r.setData(o.dataSource),r.toggle())}Jt(Qe,{ms_ac:["background","dropWidth","dropHeight","maxHeight","opened","dropLabelFont","dropLabelColor","dropActiveLabelColor"],_background:qe.emptyColor,_dropWidth:200,_dropHeight:100,_maxHeight:400,_opened:!1,_dropLabelColor:qe.inputTextColor});var tt=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,H),n(t,[{key:"onUp",value:function(e,t,o,a,i,r){var n=lo(o,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=po(this,"value",t,o);0<a.x&&a.x<i&&0<a.y&&a.y<r&&et(t,o,n,l)}}},{key:"onDrag",value:function(e,t,o,a,i,r){var n=t.__dropDown;n&&n._opened&&n.layoutByMaster()}}]),t}(),ot=function(e,t,o,a,i){var r=lo(o,t,a),n=r.rowHeights,l=r.colWidths,h=r.headHeight,s=r.rowLineWidth,u=r.translateY,d=r.translateX,c=null,g=null;if(0<(u=Math.floor(i.y-u-h))&&n&&n.length){for(var f=c=0;c<n.length&&!(u<(f+=n[c]+s));c++);c===n.length&&(c=null)}if(0<(d=Math.floor(i.x-d))&&l&&l.length){for(var v=g=0;g<l.length&&!(d<(v+=l[g]));g++);g===l.length&&(g=null)}return{row:c,col:g}},at=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,L),n(t,[{key:"onDown",value:function(e,t,o,a,i,r){var n=lo(o,t,this),l=n.hoverIndex,h=n.multiple,s=n.onClickCell,u=po(this,"selectedIndex");if(!co(l)){var d=n.dataSource||[],c=n.onSelectRow,g=n.selectedIndex;if(d&&d[l]){if(h)if(g="number"==typeof g?[g]:null==g?[]:g.slice(0),ht.Default.isCtrlDown()){var f=g.indexOf(l);0<=f?g.splice(f,1):g.push(l)}else if(ht.Default.isShiftDown()&&0<g.length){var v=g[g.length-1];if(v<l)for(var p=v+1;p<=l;p++)g.indexOf(p)<0&&g.push(p);else if(l<v)for(var y=v-1;l<=y;y--)g.indexOf(y)<0&&g.push(y)}else g=[l];else g=[l];u&&t.a(u,g),c&&c(d[l],t,o)}}if(s){var m=n.colWidths,x=n.rowHeights,b=n.columns,w=n.dataSource,V=ot(0,t,o,this,a),C=V.row,k=V.col;if(null!=k&&null!==C&&C<=x.length&&k<=m.length&&b&&w&&b[k].key){var D=b[k],T=w[C],_=T[D.key];D.format&&(_=D.format(_,T,C,k)),s(e,_,T,D,C,k)}}}},{key:"onMove",value:function(e,t,o,a,i,r){var n=lo(o,t,this),l=n.rowHeights,h=n.colWidths,s=n.hoverIndex,u=n.columns,d=n.rawDatas,c=n.rawIndexs,g=n.onHoverCell,f=ot(0,t,o,this,a),v=n.scrollInfo,p=n.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,y=f.row,m=f.col;if(n.autoHideScrollBar&&(v.scrollBarX&&a.y>r-p||v.scrollBarY&&a.x>i-p))return n.scrollBarVisible=!0,t.iv(),void _(t,n);if(g)if(null!=m&&null!==y&&y<=l.length&&m<=h.length&&u&&d&&u[m].key){var x=u[m],b=d[y],w=c[y],V=b[x.key];x.format&&(V=x.format(V,b,w,m)),g(e,V,b,x,w,m)}else g();s!==y&&(n.hoverIndex=c[y],t.iv())}},{key:"onLeave",value:function(e,t,o,a,i,r){var n=lo(o,t,this);n.hoverIndex=null,t.iv();var l=n.onHoverCell;l&&l()}},{key:"onBeginDrag",value:function(e,t,o,a,i,r){(function(e,t,o,a,i,r){var n=po(this,"translateY"),l=po(this,"translateX"),h=no(o,t,this),s=lo(o,t,this),u=s.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,d=s.scrollInfo;if(d){var c=d.minX,g=d.minY,f=d.scrollBarX,v=d.scrollBarY,p=d.scaleX,y=d.scaleY,m=void 0,x={x:a.x+h.rect.x,y:a.y+h.rect.y};if(f){var b=(u-(f=io(f)).height)/2;f.y-=b,f.height=u}if(v){var w=(u-(v=io(v)).width)/2;v.x-=w,v.width=u}if(f&&l&&T(f,x))m={downPoint:a,startX:t.a(l)||0,scaleX:p,minX:c,axis:A};else if(v&&n&&T(v,x))m={downPoint:a,startY:t.a(n)||0,scaleY:y,minY:g,axis:R};else{var V=s.headHeight,C={x:0,y:V,width:i,height:r-V};s.pannable&&T(C,a)&&(f||v)&&(m={downPoint:a,scaleX:p,minX:c,scaleY:y,minY:g,isPan:!0},f&&l&&(m.startX=t.a(l)||0,m.scaleX=p,m.minX=c),v&&n&&(m.startY=t.a(n)||0,m.scaleY=y,m.minY=g))}s._scrolldragInfo=m,s.scrollBarVisible=!!m}}).apply(this,arguments)}},{key:"onDrag",value:function(e,t,o,a,i,r){(function(e,t,o,a,i,r){var n=lo(o,t,this)._scrolldragInfo,l=po(this,"translateY"),h=po(this,"translateX");if(n){var s=n.axis,u=n.minX,d=n.minY,c=n.downPoint,g=n.startX,f=n.startY,v=n.scaleX,p=n.scaleY,y=n.isPan;if(s===A){var m=g+(c.x-a.x)/v;m=D(0,m),m=k(u,m),h&&t.a(h,m)}else if(s===R){var x=f+(c.y-a.y)/p;x=D(0,x),x=k(d,x),l&&t.a(l,x)}else if(y){if(void 0!==g){var b=g+(a.x-c.x);b=D(0,b),b=k(u,b),h&&t.a(h,b)}if(void 0!==f){var w=f+(a.y-c.y);w=D(0,w),w=k(d,w),l&&t.a(l,w)}}}}).apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,o,a,i,r){(function(e,t,o,a,i,r){var n=lo(o,t,this);if(n._scrolldragInfo){var l=n.scrollInfo,h=l.scrollBarX,s=l.scrollBarY,u=n.autoHideScrollBar;(h||s)&&u&&(n.scrollBarVisible=!0,_(t,n)),delete n._scrolldragInfo}}).apply(this,arguments)}},{key:"onScroll",value:function(e,t,o,a,i,r){(function(e,t,o,a,i,r){var n=lo(o,t,this),l=n.scrollInfo,h=po(this,"translateY"),s=po(this,"translateX");if(l){var u=l.scrollBarX,d=l.scrollBarY,c=l.minX,g=l.minY,f=e.wheelDelta/40*(n.rowHeights[0]/2||10);if(d&&h){var v=(t.a(h)||0)+f;v=D(0,v),v=k(g,v),t.a(h,v)}else if(u&&s){var p=(t.a(s)||0)+f;p=D(0,p),p=k(c,p),t.a(s,p)}var y=n.autoHideScrollBar;(u||d)&&y&&(n.scrollBarVisible=!0,_(t,n))}}).apply(this,arguments)}}]),t}(),it=function(e,t,o,a){var i=t.max,r=t.min,n=t.step,l=i-r,h=t.value,s=(o.x-a.x)/a.width*l+r,u=t.onChange,d=po(t.comp,"value");if(s=Math.min(i,s),s=Math.max(r,s),n){var c=s%n;s=s-c+(Math.abs(c)>n/2)*(c<0?-n:n)}e.a(d,s),u&&u(h,s)},rt=ht.Default.containsPoint,nt=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,L),n(t,[{key:"onDown",value:function(e,t,o,a,i,r){var n=lo(o,t,this);if(!n.disabled){var l=bo(n.barRect,2);rt(l,a)&&it(t,n,a,l)}}},{key:"onMove",value:function(e,t,o,a,i,r){var n=lo(o,t,this),l=bo(n.sliderRect,2),h=n.showToolTip,s=n.toolTipFormat,u=po(this,"value");if(rt(l,a)&&h){var d=t.a(u);d=co(d)?"0":d+"",ho.show(s?s(d):d,e)}else this.dragging||ho.hide()}},{key:"onEnter",value:function(e,t,o,a,i,r){lo(o,t,this).disabled?fo(o,"not-allowed"):fo(o,"pointer")}},{key:"onLeave",value:function(e,t,o,a,i,r){var n=lo(o,t,this);fo(o,"default"),n.dragging||ho.hide()}},{key:"onBeginDrag",value:function(e,t,o,a,i,r){var n=lo(o,t,this);if(!n.disabled){var l=bo(n.sliderRect,2);rt(l,a)&&(n.dragging=!0)}}},{key:"onDrag",value:function(e,t,o,a,i,r){var n=lo(o,t,this);if(n.dragging){var l=n.barRect;it(t,n,a,l);var h=n.showToolTip,s=n.toolTipFormat,u=n.value;h&&ho.show(s?s(u):u,e)}}},{key:"onEndDrag",value:function(e,t,o,a,i,r){delete lo(o,t,this).dragging,ho.hide()}}]),t}(),lt=function(e,t,o,a,i){var r=t.max,n=t.min,l=t.step,h=r-n,s=(o.x-a.x)/a.width*h+n,u=t.value,d=u[0],c=u[1],g=po(t.comp,"value"),f=t.onChange;if(s=Math.min(r,s),s=Math.max(n,s),l){var v=s%l;s=s-v+(Math.abs(v)>l/2)*(v<0?-l:l)}var p=null;if(t.dragging){var y=t.dragging;p=y<=s?[y,s]:[s,y]}else{var m=Math.abs(d-s);p=Math.abs(c-s)<=m?[d,s]:[s,c]}return i||e.a(g,p),f&&f(u,p),s},st=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,L),n(t,[{key:"onDown",value:function(e,t,o,a,i,r){var n=lo(o,t,this);if(!n.disabled){var l=bo(n.barRect,2),h=bo(n.valueBarRect,2);n.valueBarDraggable&&ht.Default.containsPoint(h,a)||ht.Default.containsPoint(l,a)&&lt(t,n,a,l)}}},{key:"onMove",value:function(e,t,o,a,i,r){var n=lo(o,t,this),l=bo(n.sliderRect,2),h=bo(n.sliderRect2,2),s=n.showToolTip,u=n.toolTipFormat,d=n.value;ht.Default.containsPoint(l,a)&&s?ho.show(u?u(d[0]):d[0],e):ht.Default.containsPoint(h,a)&&s?ho.show(u?u(d[1]):d[1],e):this.dragging||ho.hide()}},{key:"onEnter",value:function(e,t,o,a,i,r){lo(o,t,this).disabled?fo(o,"not-allowed"):fo(o,"pointer")}},{key:"onLeave",value:function(e,t,o,a,i,r){var n=lo(o,t,this);fo(o,"default"),n.dragging||ho.hide()}},{key:"onBeginDrag",value:function(e,t,o,a,i,r){var n=lo(o,t,this);if(!n.disabled){var l=bo(n.barRect,2),h=bo(n.sliderRect,2),s=bo(n.sliderRect2,2),u=bo(n.valueBarRect,2),d=n.value,c=n.valueBarDraggable;ht.Default.containsPoint(h,a)?n.dragging=d[1]:ht.Default.containsPoint(s,a)?n.dragging=d[0]:c&&ht.Default.containsPoint(u,a)&&(n.draggingValueBar=lt(t,n,a,l,!0))}}},{key:"onDrag",value:function(e,t,o,a,i,r){var n=lo(o,t,this),l=n.showToolTip,h=n.toolTipFormat,s=n.barRect;if(void 0!==n.dragging){var u=lt(t,n,a,s);l&&ho.show(h?h(u):u,e)}else if(void 0!==n.draggingValueBar){var d=n.draggingValueBar,c=lt(t,n,a,s,!0),g=c-d,f=n.value,v=n.min,p=n.max,y=[f[0]+g,f[1]+g],m=po(this,"value");if(y[0]<v?y=[v,v+(f[1]-f[0])]:y[1]>p&&(y=[p-(f[1]-f[0]),p]),n.draggingValueBar=c,t.a(m,y),l){var x=y.join(",");h&&(x=y.map(function(e){return h(e)}).join(",")),ho.show(x,e)}}}},{key:"onEndDrag",value:function(e,t,o,a,i,r){var n=lo(o,t,this);delete n.dragging,delete n.draggingValueBar,ho.hide()}}]),t}(),ut=function(e,t){if(t&&0<t.length)for(var o=0;o<t.length;o++){var a=we(t[o].rect,4),i=a[0],r=a[1],n=a[2],l=a[3];if(ht.Default.containsPoint({x:i,y:r,width:n,height:l},e))return t[o].value}},dt=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,L),n(t,[{key:"onDown",value:function(e,t,o,a,i,r){var n=lo(o,t,this),l=po(this,"value");if(!n.disabled&&l){var h=void 0;if((h=n.dropDown)&&h.isOpened())h.close();else{var s=n.value,u=s?s.slice(0):null,d=n.valueItemInfo,c=ut(a,d);if(c&&s&&0<=s.indexOf(c)){var g=s.indexOf(c);s.splice(g,1);var f=s.slice(0);t.a(l,f),n.onChange&&n.onChange(u,f,t,o),fo(o,"default"),this._hitValue=s}}}}},{key:"onUp",value:function(e,t,o,a,i,r){var n=lo(o,t,this);if(!n.disabled)if(this._hitValue)delete this._hitValue;else{var l=po(this,"value");0<a.x&&a.x<i&&0<a.y&&a.y<r&&et(t,o,n,l,!0)}}},{key:"onMove",value:function(e,t,o,a,i,r){var n=lo(o,t,this);if(n.disabled)fo(o,"not-allowed");else{var l=n.valueItemInfo;ut(a,l)?(this._oldCursor=o.getView().style.cursor,fo(o,"pointer")):fo(o,"default")}}},{key:"onEnter",value:function(e,t,o,a,i,r){var n=lo(o,t,this);n.disabled?fo(o,"not-allowed"):fo(o,"pointer"),n.disabled}},{key:"onLeave",value:function(e,t,o,a,i,r){fo(o,"default")}}]),t}(),ct=10,gt=10;ht.Default.setCompType("htVectorChartTip",{width:50,height:50,func:function(s,e,t,o,a){var r=t.getValue("labelFont"),n=t.getColor("labelColor"),u=t.getValue("itemFont"),d=t.getColor("itemColor"),c=t.getValue("itemIconSize"),i=t.getValue("info");if(i){ht.Default.isArray(i)||(i=[i]);var g=e.x,l=e.y,f=(e.width,e.height,0),v=0,p=l;i.forEach(function(e,t){var o=e.label,a=e.datas,h=e.colors;0<t&&(p+=8,f+=8);var i=Gt(r,o);f+=i.height,v=i.width,ht.Default.drawText(s,o,r,n,g,p,i.width,i.height,"left"),p+=i.height+2,a.forEach(function(e,t){var o=we(e,2),a=o[0],i=o[1],r=null!=a?a+"："+i:i,n=Gt(u,r);f+=n.height+2,v=Math.max(v,n.width+c+3);var l=c/2;s.fillStyle=h[t],s.beginPath(),s.moveTo(l,p+l),s.arc(l,p+l,l,0,2*Math.PI),s.fill(),ht.Default.drawText(s,r,u,d,g+3+c,p,n.width,n.height,"left"),p+=n.height+2})}),gt=f,ct=v}},properties:{labelFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},labelColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},itemColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemIconSize:{valueType:"PositiveNumber",defaultValue:12},info:{valueType:"Object",defaultValue:{}}}}),ht.Default.setImage("htVectorChartTip",{width:50,height:50,fitSize:!0,pixelPerfect:!1,interactive:!0,boundExtend:2,comps:[{type:"htVectorChartTip",displayName:"htVectorChartTip",rect:[0,0,50,50],info:{func:"attr@info",value:{}}}]});var ft=function(e){function o(){u(this,o);var e=c(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));e.getView().style.position="relative";var t=e._tipNode=new ht.Node;return t.setImage("htVectorChartTip"),e.dm().add(t),e.setWidth(ct),e.setHeight(gt),e}return d(o,e),n(o,[{key:"setInfo",value:function(e){this._tipNode.a("info",e),this.getWidth()===ct&&this.getHeight()===gt||(this._tipNode.setWidth(ct),this._tipNode.setHeight(gt),this.setWidth(ct),this.setHeight(gt),this.fitContent(!1,0))}}]),o}(ht.graph.GraphView),vt=ht.Default,pt=vt.containsPoint,yt=vt.unionPoint,mt=new ft,xt=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,L),n(t,[{key:"onDown",value:function(e,t,o,a,i,r){}},{key:"onMove",value:function(e,t,o,a,i,r){var n=no(o,t,this),l=lo(o,t,this),h=l.ui,s=l.option;if(s&&s.tooltip.show&&!l._dragging){var u=h.interactiveInfo,d=h.bounds.bodyRect,c={x:a.x+n.rect.x,y:a.y+n.rect.y};if(pt(d,c)&&u.length){for(var g=h.valueAxis===A?c.y:c.x,f=0,v=1/0,p=0;p<u.length;p++){var y=Math.abs(u[p].position-g);y<v&&(v=y,f=p)}var m=u[f];if(m.axis.length){var x=s.color.slice(0),b=m.axis.map(function(e){return{label:e.label,datas:e.datas,colors:x.splice(0,e.datas.length)}});mt.setInfo(b),ho.show(mt.getView(),e)}l.hoverIndex!==f&&(l.hoverIndex=f,t.iv())}else delete l.hoverIndex,t.iv(),ho.hide()}}},{key:"onLeave",value:function(e,t,o,a,i,r){var n=lo(o,t,this);void 0!==n.hoverIndex&&(delete n.hoverIndex,t.iv(),ho.hide())}},{key:"onBeginDrag",value:function(e,t,o,a,i,r){var n=no(o,t,this),l=lo(o,t,this),h=l.option,s=l.ui;if(l&&h.rectSelectable){void 0!==l.hoverIndex&&(delete l.hoverIndex,t.iv(),ho.hide());var u=s.bounds.bodyRect,d={x:a.x+n.rect.x,y:a.y+n.rect.y};pt(u,d)&&(l._dragging=!0,l.rectPoint1=d)}}},{key:"onDrag",value:function(e,t,o,a,i,r){var n,l,h,s,u,d,c,g,f=no(o,t,this),v=lo(o,t,this);if(v&&v._dragging){var p=v.ui.bounds.bodyRect,y={x:a.x+f.rect.x,y:a.y+f.rect.y};v.rectPoint2=(l=y,h=(n=p).x,s=n.y,u=n.width,d=n.height,c=l.x,g=l.y,c=Math.max(c,h-1),c=Math.min(c,h+u+1),g=Math.max(g,s-1),g=Math.min(g,s+d+1),{x:c,y:g}),t.iv()}}},{key:"onEndDrag",value:function(e,t,o,a,i,r){var n=lo(o,t,this);if(n&&n._dragging){var l=n.ui,h=n.option,s=l.rectPoint1,u=l.rectPoint2,d=l.valueAxis,c=h.xAxis,g=h.yAxis,f=yt(s,u);delete n._dragging,delete n.rectPoint1,delete n.rectPoint2,t.iv();var v={x:[],y:[]};c.forEach(function(e){var t=e.type,o=[];(v.x.push(o),"category"===t)&&l.interactiveInfo.forEach(function(e,t){e.position>f.x&e.position<f.x+f.width&&o.push(t)})}),g.forEach(function(e){var t=[];if(v.y.push(t),R===d){var o=we(e.valueRange,2),a=o[0],i=o[1]-a,r=l.bounds.bodyRect;t.push((r.height-f.height-f.y+r.y)/r.height*i+a),t.push((r.height-f.y+r.y)/r.height*i+a)}}),console.log(n,v)}}}]),t}();var bt=ht.Default.setImage;bt("ht.vector.date",{width:16,height:16,comps:[{type:"roundRect",borderColor:"#ffffff",cornerRadius:1,rect:[1.5,6.54942,12.94,8]},{type:"shape",borderWidth:1,borderColor:"#ffffff",borderCap:"round",closePath:!0,points:[1.5,2.4523,14.44,2.4523,14.44,2.4523,14.44,2.4523,14.44,14.54942,14.44,14.54942,14.44,14.54942,1.5,14.54942,1.5,14.54942,1.5,14.54942,1.5,2.4523,1.5,2.4523,1.5,2.4523,1.5,2.4523],segments:[1,2,3,2,3,2,3,2,3,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[4.46,1,4.46,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[11.5,1,11.5,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,9.50677,7.00013,9.50677,9.00013,9.50677,12.50756,9.50677],segments:[1,2,1,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52,12.52535,12.50756,12.52535]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,6.54942,7.00013,6.54942,9.00013,6.54942,12.50756,6.54942],segments:[1,2,1,2]}]}),bt("ht.vector.dropDownIcon",{width:18,height:10,comps:[{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",points:[1,1,9,9,17,1]}]});var wt=function(){function e(){u(this,e),(this._container=document.createElement("div")).className="ht-vector-tooltip"}return n(e,[{key:"show",value:function(e,t){"number"==typeof e&&(e+=""),"string"==typeof e?this._container.innerHTML=e:this._container.appendChild(e),document.body.appendChild(this._container),this.update(t)}},{key:"update",value:function(e){var t=this._container.getBoundingClientRect(),o=ht.Default.getWindowInfo(),a=(this._container.style,(e.clientX||e.pageX)+8),i=(e.clientY||e.pageY)+8;a=Math.max(0,a),i=Math.max(0,i),a+t.width>o.width&&(a=o.width-t.width),i+t.height>o.height&&(i=o.height-t.height),this._container.style.left=a+"px",this._container.style.top=i+"px"}},{key:"hide",value:function(){this._container.parentNode===document.body&&document.body.removeChild(this._container)}}]),e}(),Vt={show:!0,type:"value",axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!0,color:"#cccccc",width:1}},Ct={show:!0,type:"category",data:[],axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!0,color:"#cccccc",width:1}},kt=ht.Default,Dt=kt.isArray,Tt=kt.clone,_t=function(a,i){return(a=Dt(a)?a.slice(0):[a]).forEach(function(e,t){var o=Tt(i);go(o,e),a[t]=o}),a},It=function(m,x){var b=[],w=0;m.yAxis.forEach(function(e,t){var o=e.valueRange=function(e,t,o,a){var i=e.max,r=e.min,n=void 0,l=(e.axisLabel.interval,[]);o.forEach(function(e){((a===R?e.yAxisIndex:e.xAxisIndex)||0)===t&&(l=l.concat(e.data))});var h=Math.max.apply(this,l);if(10<h){for(var s=1,u=h/s;100<=parseInt(u);)u=h/(s*=10);for(u=Math.ceil(u)*s;u%6!=0||u/6%s!=0;)u+=s;h=u,co(i)&&(i=u),n=h/6}else 4<(n=h/6).toString()&&(n=parseFloat(n.toFixed(2)));co(r)&&0<=Math.min.apply(this,l)&&(r=0);return[r,i,n]}(e,t,m.series,x.valueAxis);e.show||b.push(2);var a=we(o,3),i=a[0],r=a[1],n=i.toString().length>r.toString().length?i.toString():r.toString(),l=e.axisTick.show?e.axisTick.length:0,h=e.axisLabel.rotate;if(h){h=Math.max(-45,h),h=Math.min(45,h);var s=Gt(e.axisLabel.font,n),u=new ht.Math.Vector2(0,0),d=new ht.Math.Vector2(s.width,0),c=new ht.Math.Vector2(s.width,s.height),g=new ht.Math.Vector2(0,s.height),f=new ht.Math.Vector2(s.width/2,s.height/2),v=Math.PI*(h/180);u.rotateAround(f,v),d.rotateAround(f,v),c.rotateAround(f,v),g.rotateAround(f,v);var p=ht.Default.unionPoint([u,d,c,g]);w=Math.max(w,p.height/2),b.push(p.width+4+l)}else{var y=Gt(e.axisLabel.font,n);w=Math.max(w,y.height/2),b.push(y.width+4+l)}}),x.contentRect.y+=w+2,x.contentRect.height-=w-2,x.yAxisWidths=b},Pt=["rgb(51,153,255)","rgb(93,217,174)","#FEB64D","rgb(241,125,164)","rgb(135,144,204)","rgb(124,145,155)","rgb(48,242,120)","rgb(212,0,0)","#32D3EB","#c4ccd3"],St={show:!0,trigger:"axis"},Lt=ht.Default,Et=Lt.clone,Mt=Lt.unionPoint;function At(e,t,o,a,i){for(var r={x:o*Math.cos(e),y:o*Math.sin(e)},n={x:o*Math.cos(t),y:o*Math.sin(t)},l=t-e,h=i+i,s=h+Math.PI/2,u=s+Math.PI/2,d=u+Math.PI/2,c=[{x:o*Math.cos(h),y:o*Math.sin(h)},{x:o*Math.cos(s),y:o*Math.sin(s)},{x:o*Math.cos(u),y:o*Math.sin(u)},{x:o*Math.cos(d),y:o*Math.sin(d)}],g=[r,n,{x:a*Math.cos(e),y:a*Math.sin(e)},{x:a*Math.cos(t),y:a*Math.sin(t)}],f=0;f<4;f++){var v=c[f],p={x:r.x-0,y:r.y-0},y={x:v.x-0,y:v.y-0},m=(p.x*y.x+p.y*y.y)/(Math.pow(Math.pow(p.x,2)+Math.pow(p.y,2),.5)*Math.pow(Math.pow(y.x,2)+Math.pow(y.y,2),.5)),x=Math.acos(m);0<p.x*y.y-y.x*p.y?x<l&&g.push(v):2*Math.PI-x<l&&g.push(v)}for(var b=-1/0,w=1/0,V=0,C=g.length;V<C;V++){var k=g[V].y;b=Math.max(b,k),w=Math.min(w,k)}return{minY:w,maxY:b}}var Rt,Bt,Ot,Ht=new ft,Wt=function(e,t,o,a,i){if(i.getValue){var r=lo(o,t,i),n=i.getValue("hoverOffset"),l=i.getValue("tooltip"),h=r.arcPoints,s=r.arcAngles,u=r.center,d=r.radius,c=r.pieDataPct,g=r.rect,f=r.foucusArcNum;if(a={x:a.x+g.x,y:a.y+g.y},h){var v=u.x,p=u.y,y=d.outerRadius,m=d.innerRadius,x=ht.Default.getDistance(a,u);if(m<x&&x<(void 0!==f?y+n:y))for(var b=0,w=s.length;b<w;b++){var V=h[b],C={x:V.x-v,y:V.y-p},k={x:a.x-v,y:a.y-p},D=(C.x*k.x+C.y*k.y)/(Math.pow(Math.pow(C.x,2)+Math.pow(C.y,2),.5)*Math.pow(Math.pow(k.x,2)+Math.pow(k.y,2),.5)),T=Math.acos(D);if(0<C.x*k.y-k.x*C.y){if(T<s[b]){f!=b&&(r.foucusArcNum=b,t.iv());break}}else if(2*Math.PI-T<s[b]){f!=b&&(r.foucusArcNum=b,t.iv());break}}else void 0!==f&&(delete r.foucusArcNum,t.iv())}if(l.show){var _=r.foucusArcNum;if(void 0!==_){var I=i.getValue("seriesName"),P=i.getValue("pieData")[_],S=l.formatter,L=[],E=[],M=Pt.length;if(S)xo({seriesName:I,name:P.name,value:P.value,pct:c[_],formatter:S}).labelTextArray.forEach(function(e,t){L.push([null,e]),E.push(Pt[t%M])});else L=[["名称",P.name],["百分比",(100*c[_]).toFixed(1)+"%"],["数值",P.value]],E=["red","green","pink"];Ht.setInfo({label:I,datas:L,colors:E}),ho.show(Ht.getView(),e)}else ho.hide()}}},Nt=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return d(t,L),n(t,[{key:"onMove",value:function(e,t,o,a,i,r){Wt(e,t,o,a,this)}},{key:"onUp",value:function(e,t,o,a,i,r){Wt(e,t,o,a,this)}},{key:"onLeave",value:function(e,t,o,a,i,r){var n=lo(o,t,this);void 0!==n.foucusArcNum&&(delete n.foucusArcNum,t.iv(),ho.hide())}}]),t}(),Ft=/firefox/.test(window.navigator.userAgent.toLowerCase()),Gt=(Rt={},Bt=document?ht.Default.createCanvas().getContext("2d"):null,function(e,t){Bt.font=e||labelFont;var o=Rt[Bt.font];return o||(o=2*Bt.measureText("e").width,Rt[Bt.font]=o),{width:Bt.measureText(t).width+2,height:o}}),Yt=function(e,t){if(!e)return Ut([],t);var o,a=(o=e,o?("string"!=typeof o&&(o+=""),o.replace(/^\s+|\s+$/g,"")):"").split(/\s+/g),i=[];return a.forEach(function(e){isNaN(e)||i.push(parseInt(e))}),Ut(i)},Ut=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e&&0!==e.length?3===e.length?[e[0],e[1],e[2],e[1]]:2===e.length?[e[0],e[1],e[0],e[1]]:1===e.length?[e[0],e[0],e[0],e[0]]:[e[0],e[1],e[2],e[3]]:[t,t,t,t]},jt=function(e){e&&"textarea"===e||(e="input");var t=document.createElement(e),o=t.style;return o.display="block",o.boxSizing="border-box",o.position="absolute",o.outline="none",o.zIndex=1e4,o.borderWidth=0,o.backgroundColor="rgba(0, 0, 0, 0)",t},Xt=function(e,t,o){var a=t.style,i=o.rect,r=new ht.Math.Matrix2d,n=e.getZoom();ht.Default.layout(t,i),r.appendTranslate(e.tx(),e.ty()),r.appendScale(n,n),r.append(o.matrix),zt(a,"transform","matrix("+r.a.toFixed(5)+", "+r.b.toFixed(5)+", "+r.c.toFixed(5)+",\n    "+r.d.toFixed(5)+", "+r.tx.toFixed(5)+", "+r.ty.toFixed(5)+")"),zt(a,"transformOrigin",(-i.x).toFixed(5)+"px "+(-i.y).toFixed(5)+"px")},zt=((Ot=document.createElement("input")).setAttribute("style","width: 0;height: 0;"),function(e,t,o){var a=t[0].toUpperCase+t.substring(1,t.length);e["webkit"+a]=o,e["moz"+a]=o,e["ms"+a]=o,e["o"+a]=o,e[t]=o}),Kt=function(e,t,o){for(var a=[],i=0,r=1,n=e.length;r<=n;r++){var l=e.substring(i,r);Gt(o,l).width>t&&(r-1===i?(a.push(e.substring(i,r)),i=r):(a.push(e.substring(i,r-1)),i=r-1))}return i!==r-1&&a.push(e.substring(i,r)),a},Zt=function(e,t,o,a){for(var i=[],r=e.split("\n"),n=0,l=r.length;n<l;n++){var h=r[n];if(""===h&&(h=" "),a)Array.prototype.push.apply(i,Kt(h,o,t));else{for(var s,u,d="",c=void 0,g=void 0,f=void 0,v="",p=0;p<h.length;p++){h.charAt(p).match(/[a-z|A-Z]/g)?d+="1":d+="2"}d=(d=d.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var y=0;y<d.length;y++){d.charAt(y).match(/\_/g)&&(h=$t(h,y+1,"|"))}s=h.split("|"),u=d.split("_");for(var m=0,x=s.length;m<x;m++)c=v+s[m],g=Gt(t,c),"1"===u[m][0]?g.width>o?v?(i.push(v),v="",m--):(f=Kt(s[m],o,t),Array.prototype.push.apply(i,f.slice(0,f.length-1)),v=f[f.length-1]):g.width===o?(i.push(c),v=""):v=c:g.width>o?(f=Kt(c,o,t),Array.prototype.push.apply(i,f.slice(0,f.length-1)),v=f[f.length-1]):v=c;v&&i.push(v)}}return i},$t=function(e,t,o){return e=e.substring(0,t-1)+o+e.substring(t-1,e.length)},qt=function(e,t,o,a,i,r){return e?(t&&(t=new v(t)),e.pressed?a||(i&&t&&0!==t.a?ht.Default.darker(t,Ve.activeDarker):r?null:Ve.emptyColor):e.hover?o||(i&&t&&0!==t.a?ht.Default.darker(t,Ve.hoverDarker):r?null:Ve.emptyColor):r?null:t?t.getRGBA():Ve.emptyColor):t};function Jt(e,t){var o=e.prototype,a=ht.Default.getMSMap();for(var i in t)a[i]&&a.hasOwnProperty(i)?a[i](o,t):o[i]=t[i]}function Qt(e){var t=e.a(C.VALUE);return void 0===t?"":t}var eo,to,oo=(eo=null,to=function(e,t,o){"binaryString"===o?e.readAsBinaryString(t):"ArrayBuffer"===o?e.readAsArrayBuffer(t):"dataUrl"===o?e.readAsDataURL(t):e.readAsText(t)},function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=e.multiple,h=e.readType,s=e.filter,t=e.accept;eo||((eo=document.createElement("input")).setAttribute("type","file"),eo.setAttribute("id","hiddenFile"),eo.style.width=0,eo.style.height=0,eo.addEventListener("change",function(e){document.body.removeChild(eo),eo=null;for(var t=e.target.files,o={files:[]},a=0;a<t.length;a++)s?s(t[a])&&o.files.push(t[a]):o.files.push(t[a]);if(h&&0!==o.files.length)if(l){var i=0;o.files.forEach(function(t){var e=new FileReader;e.onload=function(e){t.readResult=e.target.result,++i===o.files.length&&n(o)},to(e,t,h)})}else{var r=new FileReader;r.onload=function(e){t[0].readResult=e.target.result,n(o)},to(r,t[0],h)}else n(o)}),document.body.appendChild(eo)),eo.multiple=!!l,eo.accept=t||"",eo.click()}),ao=function(e,t){for(var o=[],a=0,i=0,r=void 0,n=0,l=e.length;n<l;n++)if(r=e[n].width||.1,isNaN(r)){var h=r.split("+"),s=parseFloat(h[0]),u=[];1<s?i+=s:a+=s,u.push(s),1<(s=parseFloat(h[1]))?(i+=s,u.unshift(s)):(a+=s,u.push(s)),o.push(u)}else 1<=(r=parseFloat(r))?i+=r=Math.max(12,r):a+=r,o.push(r);for(n=0,l=o.length;n<l;n++)(r=o[n])<1?o[n]=Math.max(0,r/a*(t-i)):r instanceof Array&&(o[n]=r[0]+Math.max(0,r[1]/a*(t-i)));return o},io=function(e){var t=we(e,4);return{x:t[0],y:t[1],width:t[2],height:t[3]}},ro=function(e,t){return e&&t?e.getDataUI?e.getDataUI(t):e.getData3dUI?e.getData3dUI(t):void 0:null},no=function(e,t,o){var a=function(e,t,o){if(!e||!e.interactiveInfo)return null;if(o){var a=void 0;return"billboard"===t.s("shape3d")&&(a=t.s("shape3d.image")),a&&e.interactiveInfo[a]?e.interactiveInfo[a].bodyInfo.compInfos:null}return e.interactiveInfo.bodyInfo?e.interactiveInfo.bodyInfo.compInfos:null}(ro(e,t),t,e instanceof ht.graph3d.Graph3dView);if(a)for(var i=0,r=a.length;i<r;i++){var n=a[i];if(n.comp===o)return n}return null},lo=function(e,t,o){var a=ro(e,t);if(a){if(a.vectorInfos){for(var i=a.vectorInfos,r=0;r<i.length;r++)if(i[r].comp===o)return i[r]}else a.vectorInfos=[];var n={comp:o};return a.vectorInfos.push(n),n}},ho=new wt,so=function(e,t,o,a,i){a&&(a.editing=!1,delete a.dom),i&&e.a(i,o.value),e.iv(),t.getView().removeChild(o)},uo=function(e){return null==e||""===e},co=function(e){return null==e},go=function e(t,o,a){for(var i in o){var r=o[i];"object"!==(void 0===r?"undefined":I(r))||ht.Default.isArray(r)||a?t[i]=o[i]:e(t[i],o[i])}},fo=function(e,t){e.getView().style.cursor=t},vo=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t%=e.length]},po=function(e,t,o,a){var i=e[t];if(i&&i.func&&"string"==typeof i.func){var r=i.func.split("@"),n=we(r,2);n[0];return n[1]}return null},yo=function(e,t){var o,a,i,r;try{o=e.toString().split(".")[1].length}catch(e){o=0}try{a=t.toString().split(".")[1].length}catch(e){a=0}if(r=Math.abs(o-a),i=Math.pow(10,Math.max(o,a)),0<r){var n=Math.pow(10,r);a<o?(e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""))*n):(e=Number(e.toString().replace(".",""))*n,t=Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/i},mo=function(e,t){var o,a,i;try{o=e.toString().split(".")[1].length}catch(e){o=0}try{a=t.toString().split(".")[1].length}catch(e){a=0}return((e*(i=Math.pow(10,Math.max(o,a)))-t*i)/i).toFixed(a<=o?o:a)},xo=function(e){var o=e.name,a=e.value,i=e.pct,t=e.font,r=e.formatter,n=e.seriesName,l=o;r&&(l=(r=r.replace(/\n/g,"<br>")).replace(/\{(\w)\}/g,function(e,t){return"a"===t?n:"b"===t?o:"c"===t?a:"d"===t?(100*i).toFixed(1)+"%":e}));var h=l.split("<br>"),s=void 0,u=void 0;return t&&(u=(s=Gt(t,"e").height+1)*h.length/2),{labelTextArray:h,textHeight:s,beginHeight:u}},bo=function(e,t){return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}},wo=function(e,t,o){var a,i,r,n,l,h,s,u=no(o,t,e).rect,d=t.getAnchor(),c=t.getWidth(),g=t.getHeight(),f=t.toGlobal({x:u.x-d.x*c,y:u.y-d.y*g}),v=t.toGlobal({x:u.x+u.width-d.x*c,y:u.y+u.height-d.y*g}),p=ht.Default.unionPoint(f,v);return a=p,r=(i=o).getView().getBoundingClientRect(),n=i.getZoom(),l=i.tx(),h=i.ty(),(s={}).height=a.height*n,s.width=a.width*n,s.x=r.left+l+a.x*n,s.y=r.top+h+a.y*n,s},Vo=function(e,t,o){if(!e||!e.func)return e;var a,i=e.func,r=e.value;return a=ht.Default.isFunction(i)?o&&o.vectorDataBindingDisabled&&!e.isSafeFunc?r:i(t,o):t instanceof ht.Data?/^attr@/.test(i)?t.a(i.slice(5)):/^style@/.test(i)?t.s(i.slice(6)):/^field@/.test(i)?t[i.slice(6)]:t[i]?t[i](o):r:r,void 0!==r&&a==NULL?r:a},Co={comp:{button:function(e,t,o,a,i){var r=o.getValue("text"),n=o.getValue("disabled"),l=o.getValue("font"),h=o.getValue("icon"),s=o.getValue("iconPosition"),u=o.getValue("iconWidth"),d=o.getValue("iconHeight"),c=o.getValue("iconGap"),g=o.getColor("iconColor"),f=o.getColor("hoverIconColor"),v=o.getColor("activeIconColor"),p=o.getColor("textColor"),y=o.getColor("hoverTextColor"),m=o.getColor("activeTextColor"),x=o.getColor("disabledTextColor"),b=o.getValue("borderWidth"),w=o.getColor("borderColor"),V=o.getColor("hoverBorderColor"),C=o.getColor("activeBorderColor"),k=o.getColor("disabledBorderColor"),D=o.getColor("background"),T=o.getColor("hoverBackground"),_=o.getColor("activeBackground"),I=o.getColor("disabledBackground"),P=o.getValue("borderRadius"),S=o.getValue("handleClick"),L=lo(i,a,o),E=Ut(q),M=(we(E,4),Yt(P)),A=we(M,4),R=A[0],B=A[1],O=A[2],H=A[3],W=t.x,N=t.y,F=t.width,G=t.height;if(n?(D=I,w=k,p=x,b||(b=1)):(D=qt(L,D,T,_,!0),w=qt(L,w,V,C,!0),g=qt(L,g,f,v,!1,!0),p=qt(L,p,y,m,!0)),e.fillStyle=D,e.beginPath(),ht.Default.drawRoundRect(e,W,N,F,G,R,B,H,O),e.closePath(),e.fill(),b&&w&&(e.strokeStyle=w,e.lineWidth=b,e.stroke()),!h&&r)K(e,r,l,p,W,N,F,G,"center","middle");else if(h&&!r)Z(e,$(h),"uniform",W+.5*(F-u),N+.5*(G-d),u,d,a,i,g);else if(h&&r){var Y=Gt(l,r),U=void 0,j=void 0;if(ne===s||le===s){var X=N+.5*(G-d-Y.height-c);U={x:W,height:Y.height,width:F},j={x:W+.5*(F-u),width:u,height:d},ne===s?(U.y=X+d+c,j.y=X):le===s&&(U.y=X,j.y=X+Y.height+c)}else{var z=W+.5*(F-u-Y.width-c);U={width:Y.width,y:N,height:G},j={y:.5*(G-d),width:u,height:d},he===s?(U.x=z,j.x=z+Y.width+c):(U.x=z+u+c,j.x=z)}K(e,r,l,p,U.x,U.y,U.width,U.height,"center","middle"),Z(e,$(h),"uniform",j.x,j.y,j.width,j.height,a,i,g)}L&&(L.disabled=n,L.onClick=S)},input:function(e,t,o,a,i){var r=o.getValue("value"),n=o.getValue("placeholder"),l=o.getColor("placeholderColor"),h=o.getValue("disabled"),s=o.getValue("borderWidth"),u=o.getColor("borderColor"),d=o.getColor("focusBorderColor")||u,c=o.getValue("borderRadius"),g=o.getValue("padding"),f=o.getColor("background"),v=o.getColor("focusBackground")||f,p=o.getValue("icon"),y=o.getValue("iconWidth"),m=o.getValue("iconHeight"),x=o.getValue("iconAlign"),b=o.getValue("font"),w=o.getValue("textAlign"),V=o.getColor("textColor"),C=o.getValue("maxLength"),k=o.getValue("inputType"),D=o.getValue("enterEndInputable"),T=o.getValue("onKeyDown"),_=o.getValue("onKeyUp"),I=o.getValue("onChange"),P=o.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",S=lo(i,a,o),L=S&&S.editing,E=S&&S.editingValue,M=Yt(g),A=we(M,4),R=A[0],B=A[1],O=A[2],H=A[3],W=Yt(c),N=we(W,4),F=N[0],G=N[1],Y=N[2],U=N[3],j=t.x,X=t.y,z=t.width,K=t.height,Z=void 0;if(a&&L?(Z=v,u=d):Z=f,e.beginPath(),ht.Default.drawRoundRect(e,j,X,z,K,F,G,U,Y),e.closePath(),Z&&(e.fillStyle=Z,e.fill()),(s&&u||L&&s&&d)&&(e.strokeStyle=L?d:u,e.lineWidth=s,e.stroke()),!E||!L){var $=!r&&n,q=r||n||"",J=r?V:l,Q=Math.max(0,z-H-B),ee=Math.max(0,K-R-O),te=j+H,oe=X+R;L&&(q=n||"",J=l),q&&(e.save(),e.beginPath(),e.rect(te,oe,Q,ee),e.clip(),!$&&a&&"password"===k&&(q=function(){for(var e="",t=0;t<q.length;t++)e+="•";return e}()),re(e,q,b,J,te,X+1,Q,K,w,"middle"),e.restore())}if(p){var ae=void 0;ae="left"===x?j:"center"===x?j+.5*(z-y):j+z-y,de(e,ce(p),"uniform",ae,.5*(K-m),y,m,a,i)}if(h){var ie=s/2;e.beginPath(),ht.Default.drawRoundRect(e,j-ie,X-ie,z+s,K+s,F,G,U,Y),e.fillStyle=P,e.closePath(),e.fill()}S&&(S.disabled=h,S.font=b,S.value=r,S.placeholder=n,S.textAlign=w,S.maxLength=C,S.textColor=V,S.inputType=k,S.enterEndInputable=D,S.onKeyUp=_,S.onKeyDown=T,S.onChange=I,S.padding=g)},inputNumber:function(e,t,o,a,i){var r=o.getValue("value"),n=o.getValue("placeholder"),l=o.getColor("placeholderColor"),h=o.getColor("min"),s=o.getColor("max"),u=o.getColor("step"),d=o.getValue("disabled"),c=o.getValue("borderWidth"),g=o.getColor("borderColor"),f=o.getColor("focusBorderColor")||g,v=o.getValue("borderRadius"),p=o.getValue("padding"),y=o.getColor("background"),m=o.getColor("focusBackground")||y,x=o.getValue("icon"),b=o.getValue("iconWidth"),w=o.getValue("iconHeight"),V=o.getValue("iconAlign"),C=o.getValue("font"),k=o.getValue("textAlign"),D=o.getColor("textColor"),T=o.getValue("maxLength"),_=o.getValue("enterEndInputable"),I=o.getValue("buttonVisible"),P=o.getValue("onKeyDown"),S=o.getValue("onKeyUp"),L=o.getValue("onChange"),E=o.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",M=lo(i,a,o),A=M&&M.editing,R=M&&M.editingValue,B=Yt(p),O=we(B,4),H=O[0],W=O[1],N=O[2],F=O[3],G=Yt(v),Y=we(G,4),U=Y[0],j=Y[1],X=Y[2],z=Y[3],K=t.x,Z=t.y,$=t.width,q=t.height,J=void 0;if(a&&A?(J=m,g=f):J=y,e.beginPath(),ht.Default.drawRoundRect(e,K,Z,$,q,U,j,z,X),e.closePath(),J&&(e.fillStyle=J,e.fill()),(c&&g||A&&c&&f)&&(e.strokeStyle=A?f:g,e.lineWidth=c,e.stroke()),!R&&0!==R||!A){var Q=r||n||"",ee=r?D:l,te=Math.max(0,$-F-W),oe=Math.max(0,q-H-N),ae=K+F,ie=Z+H;A&&(Q=n||"",ee=l),Q&&(e.save(),e.beginPath(),e.rect(ae,ie,te,oe),e.clip(),Oe(e,Q,C,ee,ae,Z+1,te,q,k,"middle"),e.restore())}if(I){var re=K+$-20,ne=Z+c/2,le=q-c,he=5<le/2?2.5:le/2*.4;e.strokeStyle=g,e.beginPath(),e.moveTo(re,ne),e.lineTo(re,ne+le),e.moveTo(re,ne+le/2),e.lineTo(re+20,ne+le/2),e.stroke(),e.beginPath(),e.moveTo(re+6,ne+le/4+he),e.lineTo(re+10,ne+le/4-he),e.lineTo(re+14,ne+le/4+he),e.stroke(),e.beginPath(),e.moveTo(re+6,ne+le/4*3-he),e.lineTo(re+10,ne+le/4*3+he),e.lineTo(re+14,ne+le/4*3-he),e.stroke(),M&&(M.buttonRects=[{x:re,y:ne,width:20,height:q/2},{x:re,y:ne+q/2,width:20,height:q/2}])}if(x){var se=void 0;se="left"===V?K:"center"===V?K+.5*($-b):K+$-b,He(e,We(x),"uniform",se,.5*(q-w),b,w,a,i)}if(d){var ue=c/2;e.beginPath(),ht.Default.drawRoundRect(e,K-ue,Z-ue,$+c,q+c,U,j,z,X),e.fillStyle=E,e.closePath(),e.fill()}M&&(M.disabled=d,M.font=C,M.value=r,M.placeholder=n,M.textAlign=k,M.maxLength=T,M.textColor=D,M.enterEndInputable=_,M.onKeyUp=S,M.onKeyDown=P,M.onChange=L,M.padding=p,M.step=u,M.min=h,M.max=s)},textarea:function(t,e,o,a,i){var r=o.getValue("value"),n=o.getValue("placeholder"),l=o.getColor("placeholderColor"),h=o.getValue("disabled"),s=o.getValue("borderWidth"),u=o.getColor("borderColor"),d=o.getColor("focusBorderColor"),c=o.getValue("borderRadius"),g=o.getValue("padding"),f=o.getColor("background"),v=o.getColor("focusBackground")||f,p=o.getValue("textAlign"),y=o.getColor("textColor"),m=o.getValue("lineHeight"),x=o.getValue("font"),b=o.getValue("wordBreak"),w=o.getValue("maxLength"),V=o.getValue("enterEndInputable"),C=o.getValue("onKeyUp"),k=o.getValue("onKeyDown"),D=o.getValue("onChange"),T=o.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",_=lo(i,a,o),I=_&&_.editing,P=_&&_.editingValue,S=Yt(g),L=we(S,4),E=L[0],M=L[1],A=L[2],R=L[3],B=Yt(c),O=we(B,4),H=O[0],W=O[1],N=O[2],F=O[3],G=e.x,Y=e.y,U=e.width,j=e.height,X=void 0;if(a&&I?(X=v,u=d):X=f,t.beginPath(),ht.Default.drawRoundRect(t,G,Y,U,j,H,W,F,N),t.closePath(),X&&(t.fillStyle=X,t.fill()),(s&&u||I&&s&&d)&&(t.strokeStyle=I?d:u,t.lineWidth=s,t.stroke()),!P||!I){var z=r||n||"",K=r?y:l,Z=Math.max(0,U-R-M),$=Math.max(0,j-E-A);if(I&&(z=n||"",K=l),z){t.save(),t.beginPath(),t.rect(G+R,Y+E,Z,$),t.clip();var q=Zt(z,x,Z,b),J=Y+E;q.forEach(function(e){Y+j<J||(ee(t,e,x,K,G+R,J,Z,m,p,"middle"),J+=m)}),t.restore()}}if(h){var Q=s/2;t.beginPath(),ht.Default.drawRoundRect(t,G-Q,Y-Q,U+s,j+s,H,W,F,N),t.fillStyle=T,t.closePath(),t.fill()}_&&(_.disabled=h,_.font=x,_.value=r,_.placeholder=n,_.textAlign=p,_.maxLength=w,_.textColor=y,_.enterEndInputable=V,_.padding=g,_.wordBreak=b,_.onKeyUp=C,_.onKeyDown=k,_.onChange=D,_.lineHeight=m)},radio:function(e,t,o,a,i){var r=o.getValue("disabled"),n=o.getValue("checked"),l=o.getColor("normalColor"),h=o.getColor("background"),s=o.getColor("activeColor"),u=o.getColor("disabledColor"),d=o.getColor("disabledBackground"),c=lo(i,a,o),g=n?s:l,f=t.x,v=t.y,p=t.width,y=t.height,m=Math.min(p,y);a&&(r?(g=u,h=d):a.a(C.PRESSED)?n?g=ht.Default.darker(g,Ve.activeDarker):h=ht.Default.darker(h,Ve.activeDarker):a.a(C.HOVER)&&(n?g=ht.Default.darker(g,Ve.hoverDarker):h=ht.Default.darker(h,Ve.hoverDarker))),h&&(e.beginPath(),e.fillStyle=h,e.arc(f+.5*p,v+.5*y,.5*m,0,2*Math.PI),e.fill()),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*y,.5*m,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*y,.25*m,0,2*Math.PI),e.fill()),a&&!a.a(C.INPUT_TYPE)&&a.a(C.INPUT_TYPE,x),c&&(c.disabled=r,c.onChange=o.getValue("onChange"),c.group=o.getValue("group"),c.value=o.getValue("value"))},checkbox:function(e,t,o,a,i){var r=o.getValue("checked"),n=o.getValue("disabled"),l=o.getColor("borderColor"),h=o.getColor("activeBorderColor"),s=o.getColor("disabledBorderColor"),u=o.getColor("background"),d=o.getColor("activeBackground"),c=o.getColor("disabledBackground"),g=o.getValue("borderRadius"),f=o.getColor("iconColor"),v=o.getColor("disabledIconColor"),p=lo(i,a,o),y=t.x,m=t.y,x=t.width,b=t.height,w=Math.min(x,b);u=r?d:u,n?(l=s,f=v,u=c):u=qt(a,u,null,null,!0),r&&!n&&(l=h),b<x?y+=.5*(x-b):x<b&&(m+=.5*(b-x)),e.beginPath(),ht.Default.drawRoundRect(e,y,m,w,w,g),e.closePath(),u&&(e.fillStyle=u,e.fill()),e.strokeStyle=l,e.lineWidth=1,e.stroke(),r&&(e.beginPath(),e.moveTo(y+.125*w,m+.5*w),e.lineTo(y+w*(3/8),m+.75*w),e.lineTo(y+.8125*w,m+.25*w),e.lineWidth=Math.max(1,w/16),e.lineCap="round",e.strokeStyle=f,e.stroke()),a&&!a.a(C.INPUT_TYPE)&&a.a(C.INPUT_TYPE,V),p&&(p.disabled=n,p.checked=r,p.onChange=o.getValue("onChange"),p.group=o.getValue("group"),p.value=o.getValue("value"))},colorPicker:function(e,t,o,a,i){var r=o.getValue("disabled"),n=o.getValue("borderWidth"),l=o.getValue("borderColor"),h=o.getValue("disabledBorderColor"),s=o.getValue("focusBorderColor"),u=o.getValue("borderRadius"),d=o.getValue("textColor"),c=o.getValue("value"),g=o.getValue("font"),f=o.getValue("fullMode"),v=o.getValue("showDropDownIcon"),p=o.getValue("dropDownIcon"),y=o.getValue("dropDownIconColor"),m=o.getValue("dropDownIconWidth"),x=o.getValue("dropDownIconHeight"),b=o.getValue("onChange"),w=lo(i,a,o),V=Yt(u),C=we(V,4),k=C[0],D=C[1],T=C[2],_=C[3],I=t.x,P=t.y,S=t.width,L=t.height,E=I+S+5,M=P+L+5,A=!1,R=void 0;if(r?l=d=h:w&&w.editing&&s&&(l=s),e.save(),f){e.beginPath(),ht.Default.drawRoundRect(e,I,P,S,L,k,D,_,T),e.closePath(),e.clip();for(var B=P,O=0;B<M;B+=5,O++){A=O%2!=0;for(var H=I;H<E;H+=5)e.fillStyle=A?X:j,e.fillRect(H,B,5,5),A=!A}}else{E=(R={x:I+4,y:P+4,width:1.66*(L-8),height:L-8}).x+R.width,M=R.y+R.height,e.beginPath(),e.rect(R.x,R.y,R.width,R.height),e.closePath(),e.clip();for(var W=R.y,N=0;W<M;W+=5,N++){A=N%2!=0;for(var F=R.x;F<E;F+=5)e.fillStyle=A?X:j,e.fillRect(F,W,5,5),A=!A}}e.restore(),e.beginPath(),ht.Default.drawRoundRect(e,I,P,S,L,k,D,_,T),e.closePath(),c&&f?(e.fillStyle=c,e.fill()):c&&!f&&(e.fillStyle=c,e.fillRect(R.x,R.y,R.width,R.height),z.setColor(c),G(e,z,g,d,R.x+R.width+4,P,S-R.width-8,L,"left","middle")),n&&(e.lineWidth=n,e.strokeStyle=l,e.stroke()),v&&Y(e,U(p||"ht.vector.dropDownIcon"),"uniform",I+S-8-m,P+.5*(L-x),m,x,a,i,y),w&&(w.disabled=r,w.onChange=b)},comboBox:function(e,t,o,a,i){var r=o.getValue("value"),n=o.getValue("placeholder"),l=o.getValue("dataSource"),h=o.getValue("disabled"),s=o.getValue("borderWidth"),u=o.getValue("borderColor"),d=o.getValue("disabledBorderColor"),c=o.getValue("focusBorderColor"),g=o.getValue("borderRadius"),f=o.getValue("padding"),v=o.getValue("background"),p=o.getValue("disabledBackground"),y=o.getValue("focusBackground")||v,m=o.getValue("icon"),x=o.getValue("iconWidth"),b=o.getValue("iconHeight"),w=o.getValue("iconAlign"),V=o.getValue("font"),C=o.getValue("textAlign"),k=o.getValue("textColor"),D=o.getValue("disabledTextColor"),T=o.getValue("dropDownIcon"),_=o.getValue("dropDownIconColor"),I=o.getValue("dropDownIconWidth"),P=o.getValue("dropDownIconHeight"),S=o.getValue("drawUnMatchValue"),L=lo(i,a,o),E=L&&L.editing,M=Yt(f),A=we(M,4),R=A[0],B=A[1],O=A[2],H=A[3],W=Yt(g),N=we(W,4),F=N[0],G=N[1],Y=N[2],U=N[3],j=t.x,X=t.y,z=t.width,K=t.height,Z=void 0;a?h?(Z=p,u=d,k=D,s||(s=1)):E?(Z=y,u=c):Z=v:Z=v,e.beginPath(),ht.Default.drawRoundRect(e,j,X,z,K,F,G,U,Y),e.closePath(),Z&&(e.fillStyle=Z,e.fill()),(s&&u||E&&s&&c)&&(e.strokeStyle=E?c:u,e.lineWidth=s,e.stroke());var $="";if(S)$=r;else if(r&&l)for(var q=0,J=l.length;q<J;q++)if(l[q].value===r){$=l[q].label,m=l[q].icon;break}$||(m=null,co(r)||($=r+""));var Q=$||n||"",ee=Math.max(0,z-H-B),te=Math.max(0,K-R-O),oe=j+H,ae=X+R;if(r||h||(k=Ve.placeholderColor),e.save(),e.beginPath(),e.rect(oe,ae,ee,te),e.clip(),ge(e,Q,V,k,m?oe+x:oe,ae,ee,te,C,"middle"),e.restore(),m){var ie=void 0;ie="left"===w?oe:"center"===w?j+.5*(z-x):j+z-x-B,fe(e,ve(m),"uniform",ie,.5*(K-b),x,b,a,i)}fe(e,ve(T||"ht.vector.dropDownIcon"),"uniform",j+z-8-I,X+.5*(K-P),I,P,a,i,_),L&&(L.disabled=h,L.dataSource=l,L.dropIconWidth=o.getValue("dropIconWidth"),L.dropIconHeight=o.getValue("dropIconHeight"),L.dropRowHeight=o.getValue("dropRowHeight"),L.dropWidth=o.getValue("dropWidth"),L.dropBackground=o.getValue("dropBackground"),L.dropLabelFont=o.getValue("dropLabelFont"),L.dropLabelColor=o.getValue("dropLabelColor"),L.dropActiveLabelColor=o.getValue("dropActiveLabelColor"),L.dropActiveBackground=o.getValue("dropActiveBackground"),L.dropHoverBackground=o.getValue("dropHoverBackground"),L.dropMaxHeight=o.getValue("dropMaxHeight"),L.onChange=o.getValue("onChange"))},gauge:function(e,t,o,a,i){var r=o.getValue("pointerRadius"),n=o.getColor("pointerColor"),l=o.getValue("value"),h=o.getValue("max"),s=o.getValue("showTick"),u=o.getValue("tickEvery"),d=o.getColor("tickColor"),c=o.getValue("tickWidth"),g=(o.getValue("tickRadius"),o.getValue("bigTickEvery")),f=o.getColor("bigTickColor"),v=o.getValue("bigTickWidth"),p=(o.getValue("bigTickRadius"),o.getValue("showLabel")),y=o.getValue("labelEvery"),m=o.getColor("labelColor"),x=o.getValue("labelFont"),b=o.getValue("labelRadius"),w=o.getValue("showShadow"),V=o.getValue("shadowBlur"),C=o.getColor("shadowColor"),k=o.getValue("shadowOffsetX"),D=o.getValue("shadowOffsetY");ie=o.getValue("clockwise"),pe=o.getValue("min"),oe=o.getValue("startAngle"),ae=o.getValue("endAngle"),Q=Math.abs(h-pe),te=Math.abs(ae-oe);var T=t.x,_=t.y,I=t.width,P=t.height,S=Math.min(I,P)/2,L=ye(l,ie);if(e.save(),w&&(e.shadowColor=C,e.shadowBlur=V,e.shadowOffsetX=k,e.shadowOffsetY=D),e.translate(T+.5*I,_+.5*P),s){if(g){e.beginPath(),e.strokeStyle=f,e.lineWidth=v;for(var E=pe;E<=h;E+=g){var M=ye(E,ie),A=S*Math.cos(M),R=S*Math.sin(M);e.moveTo(.84*A,.84*R),e.lineTo(A,R)}e.stroke()}if(u){e.beginPath(),e.strokeStyle=d,e.lineWidth=c;for(var B=pe;B<=h;B+=u){var O=ye(B,ie),H=S*Math.cos(O),W=S*Math.sin(O);e.moveTo(.9*H,.9*W),e.lineTo(H,W)}e.stroke()}}if(p&&y){b=J(b,S),e.font=x,e.fillStyle=m,e.textAlign="center",e.textBaseline="middle";for(var N=pe;N<=h;N+=y){var F=ye(N,ie),G=b*Math.cos(F),Y=b*Math.sin(F);e.fillText(N,G,Y)}}var U=.05*(r=J(r,S));e.rotate(L),e.beginPath(),e.moveTo(-1.5*U,0),e.lineTo(0,-U),e.lineTo(r,0),e.lineTo(0,U),e.closePath(),e.fillStyle=n,e.fill(),e.restore()},table:function(f,e,t,v,p){var i,y=t.getValue("columns"),o=t.getValue("dataSource"),a=t.getColor("thBackground"),r=t.getColor("tdBackground"),n=t.getValue("thHeight"),s=t.getValue("tdHeight"),m=t.getValue("textLineHeight"),l=t.getColor("thColor"),x=t.getColor("tdColor"),h=t.getValue("thFont"),b=t.getValue("tdFont"),w=t.getValue("borderWidth"),u=t.getColor("borderColor"),d=t.getColor("columnLineColor"),V=t.getValue("columnLineWidth"),c=t.getColor("rowLineColor"),C=t.getValue("rowLineWidth"),k=t.getValue("showHeadRowLine"),D=t.getValue("cellPadding"),T=t.getValue("showHead"),_=t.getColor("hoverBackground"),I=t.getColor("hoverColor"),P=t.getColor("selectBackground"),S=t.getColor("selectColor"),L=t.getValue("translateY")||0,E=t.getValue("translateX")||0,g=t.getValue("scrollable"),M=t.getValue("autoHideScrollBar"),A=t.getColor("scrollBarColor"),R=t.getValue("scrollBarWidth"),B=t.getValue("scrollBarWidthAbsolute"),O=t.getValue("drawRow"),H=t.getValue("multiple"),W=t.getValue("onSelectRow"),N=t.getValue("onHoverCell"),F=t.getValue("onClickCell"),G=t.getValue("selectedIndex")||[],Y=t.getValue("visibleFunc"),U=lo(p,v,t),j=e.x,X=e.y,z=e.width,K=e.height,Z=z-2*w,$=K-2*w,q=void 0,J=[],Q=[];if(T&&(q=[j+w,X+w,Z,n]),i=[j+w,X+n*T+w,z,$-n*T],a&&T&&(f.fillStyle=a,f.fillRect.apply(f,be(q))),r&&(f.fillStyle=r,f.fillRect.apply(f,be(i))),y&&0<y.length){var ee=y.length,te=ao(y,Z-V*(ee-1)),oe=o.length,ae=[],ie=j+w+E;if(T)for(var re=0;re<ee;re++){var ne=y[re],le=te[re]-2*D,he=ne.headColor||ne.color||l;"function"==typeof he&&(he=he(ne)),ie+=D,f.save(),f.beginPath(),f.rect(ie,X+w,le,n),f.clip(),De(f,ne.displayName||ne.key,h,he,ie,X+w,le,n,ne.align||"left","middle"),f.restore(),ie+=le+V+D}f.save(),f.beginPath(),f.rect(j+w,X+w+(T?n:0),Z,$-n*T),f.clip();var se=X;if(o&&0<oe&&(o.forEach(function(e,t){(Y&&Y(e,t,v,p)||!Y)&&(J.push(e),Q.push(t))}),J.forEach(function(e,t){var r,n,l,o,a,h;ae.push((r=e,n=Q[t],l=m,o=s,a=y,h=Math.max(l,o),a.forEach(function(e,t){var o=e.format,a=r[e.key];if(o&&(a=o(a,r,n,t)),"string"==typeof a){var i=a.match(Se);i&&i.length&&(h=Math.max(h,l*(i.length+1)))}}),h))}),!H&&1<G.length&&(G=G.slice(0,1)),J.forEach(function(h,e){var s=Q[e],u=ae[e],d=se+C*(s+k*T*1)+n*T+w+L,t={x:j,y:d,width:z,height:u};if(se+=u,ie=j+w+E,Pe(io(i),t)){O&&O(f,h,s,t);var c=U&&U.hoverIndex===s,g=G&&-1!==G.indexOf(s);g&&P?(f.fillStyle=P,f.fillRect(j,d,z,u)):!g&&c&&_&&(f.fillStyle=_,f.fillRect(j,d,z,u));for(var o=function(e){var a=y[e],t=e,o=a.drawCell,i=te[e]-2*D,r=a.bodyColor||a.color||x;g&&S&&(r=S),!g&&c&&I&&(r=I),"function"==typeof r&&(r=r(h[a.key],h)),ie+=D;var n=h[a.key];a.format&&(n=a.format(n,h,s,t)),f.save(),f.beginPath(),f.rect(ie,d,i,u),f.clip();var l=function(){if(a.isIcon)0<i&&Te(f,_e(n),"centerUniform",ie,d+1,i,u-2,v,p);else{if(uo(n))return;var e="string"==typeof n?n.match(Se):null;if(e&&e.length){var t=n.split(Se),o=d;"middle"===a.vAlign?o=d+(u-t.length*m)/2:"bottom"===a.vAlign&&(o=d+(u-t.length*m)),t.forEach(function(e){De(f,e,b,r,ie,o,i,m,a.align||"left",a.vAlign||"middle"),o+=m})}else De(f,n,b,r,ie,d,i,u,a.align||"left",a.vAlign||"middle")}};o?o(f,n,{x:ie,y:d,width:i,height:u},{column:a,colIndex:t,row:h,rowIndex:s,font:b,color:r,defaultDraw:l,data:v}):l(),ie+=i+V+D,f.restore()},a=0;a<ee;a++)o(a)}})),U&&(U.rowHeights=ae,U.colWidths=te,U.headHeight=T?n:0,U.rowLineWidth=C,U.columnLineWidth=V,U.translateX=E,U.translateY=L,U.autoHideScrollBar=M,U.multiple=H,U.selectedIndex=G,U.dataSource=o,U.columns=y,U.onSelectRow=W,U.onHoverCell=N,U.onClickCell=F,U.rawDatas=J,U.rawIndexs=Q,U.pannable=t.getValue("pannable"),U.scrollBarInteractiveSize=t.getValue("scrollBarInteractiveSize"),U.scrollZoomIncrement=t.getValue("scrollZoomIncrement")),C){var ue=X+w+n*T+L;f.beginPath(),k&&T&&(ue+=C/2,f.moveTo(j,ue),f.lineTo(j+z,ue),ue+=C/2);for(var de=0;de<oe&&!(X+K<(ue+=ae[de]+C/2));de++)ue<X||(f.moveTo(j,ue),f.lineTo(j+z,ue)),ue+=C/2;f.strokeStyle=c,f.lineWidth=C,f.stroke()}if(f.restore(),V){var ce=j+w+E;f.beginPath();for(var ge=0;ge<ee-1;ge++)ce+=te[ge]+V/2,f.moveTo(ce,X),f.lineTo(ce,X+K),ce+=V/2;f.strokeStyle=d,f.lineWidth=V,f.stroke()}if(v&&U&&g){var fe=V?V*(ee-1):0,ve=C?(oe-1)*C:0;te.forEach(function(e){fe+=e}),ae.forEach(function(e){ve+=e});var pe={x:j+w,y:X+w+(T?n:0),width:Z,height:$-(T?n:0)},ye={width:fe,height:ve},me={x:E,y:L},xe=p.getZoom?p.getZoom():1;!function(e,t,o,a){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},r=arguments[5],n=t.x,l=t.y,h=t.width,s=t.height,u=o.width,d=o.height,c=a.x,g=a.y,f=void 0,v=void 0,p=null,y=null,m=void 0,x=void 0,b=i.color,w=void 0===b?"red":b,V=i.barWidth,C=void 0===V?8:V,k=i.gap,D=void 0===k?2:k,T=i.visible;if(e.save(),s<d){var _=s*(x=s/d);y=[n+h-C-D,l+-g*x,C,Math.max(_,ke)],v=s-d,T&&(e.beginPath(),Ce.apply(void 0,[e].concat(be(y),[Math.min(C,_)/2])),e.fillStyle=w,e.fill())}if(h<u-2){var I=h*(m=h/u);p=[n+-c*m,l+s-C-D,Math.max(I,ke),C],f=h-u,T&&(e.beginPath(),Ce.apply(void 0,[e].concat(be(p),[Math.min(C,I)/2])),e.fillStyle=w,e.fill())}r.scrollInfo={scrollBarX:p,scrollBarY:y,scaleX:m,scaleY:x,minX:f,minY:v},e.restore()}(f,pe,ye,me,{visible:!M||U.scrollBarVisible,color:A,barWidth:B?R/xe:R,gap:2/xe},U)}}w&&Ie(f,u,j,X,z,K,w)},pie:function(V,e,C,t,o){var a=function(e,t){var o=t.getValue("pieData"),a=t.getValue("radius"),i=t.getValue("center"),r=t.getValue("startAngle"),n=t.getValue("label"),l=t.getValue("labelLine"),h=t.getValue("roseType"),s=t.getValue("seriesName"),u=t.getValue("hoverOffset"),d=t.getValue("avoidLabelOverlap");o=ht.Default.clone(o);var c=e.x,g=e.y,f=e.width,v=e.height,p=Math.min(f,v),y=void 0,m=void 0,x=void 0,b=void 0;y="string"==typeof a[0]?parseInt(a[0])/100*p:a[0],m="string"==typeof a[1]?parseInt(a[1])/100*p:a[1],x="string"==typeof i[0]?parseInt(i[0])/100*f+c:i[0]+c,b="string"==typeof i[1]?parseInt(i[1])/100*v+g:i[1]+g;for(var w=r=Math.PI/180*r,V=-r,C=0,k=o.length;C<k;C++){var D=o[C]||{},T=D.value,_=void 0===T?0:T,I=D.name,P=void 0===I?"":I,S=D.itemStyle,L=void 0===S?{}:S,E=D.labelLine,M=void 0===E?{}:E,A=D.label,R=void 0===A?{}:A,B=Pt[C%Pt.length];M=Object.assign({normal:{},emphasis:{}},M),R=Object.assign({normal:{},emphasis:{}},R),L=Object.assign({color:B},L),o[C]={value:_,name:P,itemStyle:L,labelLine:M,label:R}}var O=o.map(function(e){return e.value}),H=O.reduce(function(e,t){return e+t},0),W=O.map(function(e){return e/H}),N=[];if(h){var F=Math.max.apply(Math,be(O)),G=m-y;N=O.map(function(e){return e/F*G})}return{innerRadius:y,outerRadius:m,centerX:x,centerY:b,pieDataPct:W,roseRadiusArray:N,pieData:o,lineStartAngle:V,endAngle:w,startAngle:r,roseType:h,seriesName:s,hoverOffset:u,avoidLabelOverlap:d,g_labelNormal:Object.assign({show:!0,position:"center",formatter:"",color:void 0,font:"8px serif"},n.normal||{}),g_labelEmphasis:Object.assign({show:!1,position:"center",formatter:"",color:void 0,font:"9px serif"},n.emphasis||{}),g_labelLineNormal:Object.assign({show:!0,length:15,length2:10,formatter:"",width:1,type:"dashed",font:"8px serif",lineColor:void 0,textColor:void 0},l.normal||{}),g_labelLineEmphasis:Object.assign({show:!1,length:15,length2:10,formatter:"",width:2,type:"dashed",font:"9px serif",lineColor:void 0,textColor:void 0},l.emphasis||{})}}(e,C),A=a.innerRadius,R=a.outerRadius,B=a.centerX,O=a.centerY,H=a.pieDataPct,W=a.roseRadiusArray,N=a.pieData,F=a.lineStartAngle,k=a.endAngle,G=a.startAngle,Y=a.roseType,U=a.seriesName,D=a.hoverOffset,u=a.avoidLabelOverlap,i=a.g_labelNormal,r=a.g_labelEmphasis,j=a.g_labelLineNormal,X=a.g_labelLineEmphasis,n=[],l=[],h=void 0,z=void 0,K=[],y=[];t&&(h=lo(o,t,C),z=h.foucusArcNum);for(var s=F,d=0,c=H.length;d<c;d++){var g=H[d]*Math.PI*2;n.push({x:B+R*Math.cos(s),y:O+R*Math.sin(s)}),l.push(H[d]*Math.PI*2),s+=g}function f(e){var t=e.x0,o=e.y0,a=e.x1,i=e.y1,r=e.oneTextHeight,n=e.allTextHeight,l=e.labelTextArray,h=e.lineLength2,s=e.avoidIsShow;(u&&s||!u)&&(V.beginPath(),V.moveTo(t,o),a<=t?(u&&V.lineTo(B-R-5,o),V.lineTo(a,i),a-=h,V.textAlign="right",V.textBaseline="top",V.lineTo(a,i),l.forEach(function(e,t){V.fillText(e,a-3,i-n/2+r*t)})):(u&&V.lineTo(B+R+5,o),V.lineTo(a,i),a+=h,V.textAlign="left",V.textBaseline="top",V.lineTo(a,i),l.forEach(function(e,t){V.fillText(e,a+3,i-n/2+r*t)})),V.stroke())}function v(e,t){V.save();var o=e.width,a=e.type,i=e.font,s=e.lineColor,u=e.textColor;if(V.lineWidth=o,V.font=i,"dashed"===a?V.setLineDash([2,2]):V.setLineDash([]),s&&(V.strokeStyle=s),u&&(V.fillStyle=u),t)l(z,t);else for(var r=0,n=N.length;r<n;r++)l(r,t);function l(e,t){var o=t?N[e].labelLine.emphasis:N[e].labelLine.normal,a=o.show,i=o.width,r=o.type,n=o.font,l=o.lineColor,h=o.textColor;!1!==a&&(V.save(),void 0!==i&&(V.lineWidth=i),void 0!==r&&("dashed"===r?V.setLineDash([2,2]):V.setLineDash([])),void 0!==n&&(V.font=n),void 0!==l&&(V.strokeStyle=l),void 0!==h&&(V.fillStyle=h),void 0===l&&void 0===s&&(V.strokeStyle=N[e].itemStyle.color),void 0===h&&void 0===u&&(V.fillStyle=N[e].itemStyle.color),t?f(K[e]):(!m||m&&z!==e)&&f(K[e]),V.restore())}V.restore()}h&&(h.arcPoints=n,h.arcAngles=l,h.center={x:B,y:O},h.radius={outerRadius:R,innerRadius:A},h.pieDataPct=H,h.rect=e),function(){for(var e=j.length,t=j.length2,o=j.font,a=j.formatter,i=X.length,r=X.length2,n=X.font,l=X.formatter,h=0,s=N.length;h<s;h++){var u=N[h],d=H[h]*Math.PI*2,c=F+d/2;F+=d;var g=B+(Y?W[h]+A:R)*Math.cos(c),f=O+(Y?W[h]+A:R)*Math.sin(c),v=void 0,p=void 0,y=!0;if(z===h){var m=u.labelLine.emphasis,x=m.show,b=m.length,w=m.length2,V=m.formatter,C=m.font;void 0!==b&&(i=b),void 0!==w&&(r=w),void 0!==V&&(l=V),void 0!==C&&(n=C),void 0!==x&&(y=x),v=B+(R+i)*Math.cos(c),p=O+(R+i)*Math.sin(c)}else{var k=u.labelLine.normal,D=k.show,T=k.length,_=k.length2,I=k.formatter,P=k.font;void 0!==T&&(e=T),void 0!==_&&(t=_),void 0!==I&&(a=I),void 0!==P&&(o=P),void 0!==D&&(y=D),v=B+(R+e)*Math.cos(c),p=O+(R+e)*Math.sin(c)}var S=xo({name:u.name,value:u.value,pct:H[h],font:z===h?n:o,formatter:z===h?l:a,seriesName:U}),L=S.labelTextArray,E=S.textHeight,M=S.beginHeight;K.push({x0:g,y0:f,x1:v,y1:p,labelLineIsShow:y,labelTextArray:L,lineLength2:z===h?r:t,oneTextHeight:E,allTextHeight:2*M}),h===s-1&&(F=-G)}}(),u&&function(e,d,t,c,g){for(var o=[],a=[],i=0;i<e.length;i++)e[i].x0<d?o.push(e[i]):a.push(e[i]);function r(e,t){e.sort(function(e,t){return e.y0-t.y0});for(var o=(e=e.filter(function(e){if(e.labelLineIsShow)return e}))[0].allTextHeight/2,a=e[e.length-1].allTextHeight/2,i=g-o-a,r=e.length,n=0,l=0,h=e.length;l<h;l++)if(i<(n+=e[l].allTextHeight)){r=l;break}var s=i/(r-1);s===1/0&&(s=0);for(var u=0;u<r;u++)e[u].avoidIsShow=!0,e[u].x1=d+t*(c+10),e[u].y1=o+u*s}0<o.length&&r(o,-1),0<a.length&&r(a,1)}(K,B,0,R,e.height);var p=j.show,m=X.show;function x(e){for(var t=G,o=0,a=N.length;o<a;o++){V.save();var i=N[o],r=i.itemStyle.borderWidth,n=R;if(k+=H[o]*Math.PI*2,"stroke"===e&&r||"fill"===e){if(V.beginPath(),V.moveTo(A*Math.cos(G),A*Math.sin(G)),z===o?(n=Y?W[o]+D+A:R+D,V.arc(0,0,n,G,k,!1),V.arc(0,0,A,k,G,!0),V.globalAlpha=.8):(n=Y?W[o]+A:R,V.arc(0,0,n,G,k,!1),V.arc(0,0,A,k,G,!0)),V.closePath(),"fill"===e){var l=i.itemStyle.color;if("string"==typeof l)V.fillStyle=l;else if("object"===(void 0===l?"undefined":I(l))){var h=l.type,s=l.colorStops,u=null;if("radial"===h)u=V.createRadialGradient(0,0,A,0,0,n);else if("linear"===h){var d=At(G,k,R,A,t),c=d.minY,g=d.maxY;u=V.createLinearGradient(0,c,0,g)}if(u&&s instanceof Array){for(var f=0,v=s.length;f<v;f++){var p=s[f],y=p.offset,m=p.color;void 0!==y&&void 0!==m&&u.addColorStop(y,m)}V.fillStyle=u}}V.fill()}else if("stroke"===e){var x=i.itemStyle,b=x.borderColor,w=x.borderType;V.strokeStyle=b||"#000",V.lineWidth=r,"dashed"===w?V.setLineDash([2,2]):V.setLineDash([]),V.stroke()}V.globalAlpha=1}G=k,o==a-1&&(G=k=Math.PI/180*C.getValue("startAngle")),V.restore()}}function b(e,o,a,t,i){var r=N[e],n=xo({name:r.name,value:r.value,pct:H[e],font:t,formatter:i,seriesName:U}),l=n.labelTextArray,h=n.textHeight,s=n.beginHeight;l.forEach(function(e,t){V.fillText(e,o,a-s+h*t)})}function w(g,e){var f=g.position,v=g.formatter,t=g.color,p=g.font;if(V.fillStyle=t||"black",V.font=p,e)i(z,e);else for(var o=0,a=N.length;o<a;o++)i(o,e);function i(e,t){var o=t?N[e].label.emphasis:N[e].label.normal,a=o.show,i=o.position,r=o.formatter,n=o.color,l=o.font;if(!1!==a){V.save();var h=void 0,s=void 0,u=p,d=v;if(void 0!==i&&(f=i),void 0!==n&&(V.fillStyle=n),void 0===n&&void 0===g.color&&"center"===f&&(V.fillStyle=N[e].itemStyle.color),"center"===f&&(h=B,s=O),"inside"===f){var c=y[e];h=c.textX,s=c.textY}void 0!==r&&(d=r),void 0!==l&&(u=l,V.font=l),t?b(z,h,s,u,d):(!_||_&&z!==e)&&b(e,h,s,u,d),V.restore()}}}p&&v(j,!1),m&&void 0!==z&&v(X,!0),V.save(),V.translate(B,O),V.rotate(2*Math.PI-2*G),x("fill"),x("stroke"),V.restore(),function(){for(var e=0,t=N.length;e<t;e++){var o=H[e]*Math.PI*2,a=F+o/2;F+=o;var i=B+(Y?W[e]:R)*Math.cos(a),r=O+(Y?W[e]:R)*Math.sin(a),n=(i+(B+A*Math.cos(a)))/2,l=(r+(O+A*Math.sin(a)))/2;y.push({textX:n,textY:l}),e===t-1&&(F=-G)}}();var T=i.show,_=r.show;V.save(),V.textAlign="center",V.textBaseline="top",T&&w(i,!1),_&&void 0!==z&&w(r,!0),V.restore()},ruler:function(u,e,t,o,a){t.getValue("value");var d=t.getValue("max"),c=t.getValue("min"),i=t.getValue("labelEvery"),r=t.getValue("labelFont"),n=t.getColor("labelColor"),l=t.getValue("labelAlign"),h=t.getValue("labelDistance"),s=t.getValue("labelOffsetX"),g=t.getValue("labelOffsetY"),f=t.getValue("direction"),v=t.getValue("paddingBefore"),p=t.getValue("paddingAfter"),y=t.getColor("background"),m=t.getValue("smallTickEvery"),x=t.getColor("smallTickColor"),b=t.getValue("smallTickWidth"),w=t.getValue("smallTickLongness"),V=t.getValue("mediumTickEvery"),C=t.getColor("mediumTickColor"),k=t.getValue("mediumTickWidth"),D=t.getValue("mediumTickLongness"),T=t.getValue("largeTickEvery"),_=t.getColor("largeTickColor"),I=t.getValue("largeTickWidth"),P=t.getValue("largeTickLongness"),S=t.getValue("reverse"),L=e.x,E=e.y,M=e.width,A=e.height;y&&(u.fillStyle=y,u.fillRect(L,E,M,A));var R=d-c,B=A;f!==se&&f!==he||(B=M);var O=[{every:m,color:x,longness:w,width:b},{every:V,color:C,longness:D,width:k},{every:T,color:_,longness:P,width:I}];if(S){if(O.forEach(function(e){if(e.every){var t=xe(e.longness,B);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,f===ne||f===le){var o=L+M-v,a=(M-v-p)*(e.every/R),i=f===ne?E:E+A;f===le&&(t=0-t);for(var r=c;r<=d;r+=e.every)u.moveTo(o,i),u.lineTo(o,i+t),o-=a}else{var n=E+A-v,l=(A-v-p)*(e.every/R),h=f===se?L:L+M;f===he&&(t=0-t);for(var s=c;s<=d;s+=e.every)u.moveTo(h,n),u.lineTo(h+t,n),n-=l}u.stroke()}}),i){var H=xe(h,B);if(u.fillStyle=n,u.font=r,f===ne||f===le){var W=L+M-v+s,N=i/R*(M-v-p),F=(f===ne?E:E+A)+g;f===le?H=0-H-Gt(r,"1").height:u.textBaseline="hanging";for(var G=c;G<=d;G+=i){var Y=Gt(r,G);l===ue?me(u,G,r,n,W-.5*Y.width,F+H,Y.width,Y.height,l,"middle"):l===he?u.fillText(G,W-Gt(r,G).width+2,F+H):l===se&&u.fillText(G,W,F+H),W-=N}}else{var U=E+A-v+g,j=i/R*(A-v-p),X=(f===se?L:L+M)+s;u.textBaseline="middle",f===he&&(H=0-H);for(var z=c;z<=d;z+=i){var K=z+"";f===he?u.fillText(K,X+H-Gt(r,K).width+2,U):u.fillText(K,X+H,U),U-=j}}}}else if(O.forEach(function(e){if(e.every){var t=xe(e.longness,B);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,f===ne||f===le){var o=L+v,a=(M-v-p)*(e.every/R),i=f===ne?E:E+A;f===le&&(t=0-t);for(var r=c;r<=d;r+=e.every)u.moveTo(o,i),u.lineTo(o,i+t),o+=a}else{var n=E+v,l=(A-v-p)*(e.every/R),h=f===se?L:L+M;f===he&&(t=0-t);for(var s=c;s<=d;s+=e.every)u.moveTo(h,n),u.lineTo(h+t,n),n+=l}u.stroke()}}),i){var Z=xe(h,B);if(u.fillStyle=n,u.font=r,f===ne||f===le){var $=L+v+s,q=i/R*(M-v-p),J=(f===ne?E:E+A)+g;f===le?Z=0-Z-Gt(r,"1").height:u.textBaseline="hanging";for(var Q=c;Q<=d;Q+=i){var ee=Gt(r,Q);l===ue?me(u,Q,r,n,$-.5*ee.width,J+Z,ee.width,ee.height,l,"middle"):l===he?u.fillText(Q,$-Gt(r,Q).width+2,J+Z):l===se&&u.fillText(Q,$,J+Z),$+=q}}else{var te=E+v+g,oe=i/R*(A-v-p),ae=(f===se?L:L+M)+s;u.textBaseline="middle",f===he&&(Z=0-Z);for(var ie=c;ie<=d;ie+=i){var re=ie+"";f===he?u.fillText(re,ae+Z-Gt(r,re).width+2,te):u.fillText(re,ae+Z,te),te+=oe}}}},multilineText:function(o,e,t,a,i){var r=t.getValue("content"),n=t.getValue("font"),l=t.getValue("textAlign"),h=t.getValue("color"),s=t.getValue("lineHeight"),u=t.getColor("background"),d=t.getValue("padding"),c=t.getColor("borderColor"),g=t.getValue("borderWidth"),f=t.getValue("borderRadius"),v=t.getValue("dash"),p=t.getValue("dashPattern"),y=e.x,m=e.y,x=e.width,b=e.height,w=Yt(d),V=we(w,4),C=V[0],k=V[1],D=V[2],T=V[3],_=Yt(f),I=we(_,4),P=I[0],S=I[1],L=I[2],E=I[3];u&&(o.fillStyle=u,o.fillRect(y,m,x,b)),g&&(o.strokeStyle=c,o.beginPath(),v&&o.setLineDash(p),ht.Default.drawRoundRect(o,y,m,x,b,P,S,E,L),o.closePath(),o.stroke());var M=T,A=C,R=0,B=x-T-k,O=r.split(/\n/),H=O.length*s+C+D,W=T+C;O.forEach(function(e){var t=Gt(n,e);R=Math.max(R,t.width),N(o,e,n,h,M,A,B,s,l,"middle"),A+=s}),W+=R,a&&a.constructor===ht.Node&&(a.getWidth()===W&&a.getHeight()===H||(a.setSize(W,H),a.setSize3d(W,100,H)))},ninePatchImage:function(e,t,o,a,i){var r=o.getValue("image"),n=o.getValue("top"),l=o.getValue("right"),h=o.getValue("bottom"),s=o.getValue("left"),u=o.getValue("showGuideLine"),d=t.x,c=t.y,g=t.width,f=t.height;e.save(),console.log(ht.Default.getImage(r)),S(e,ht.Default.getImage(r),d,c,g,f,a,i),e.restore(),u&&(e.strokeStyle="red",e.beginPath(),e.moveTo(d,c+n),e.lineTo(d+g,c+n),e.moveTo(d+g-l,c),e.lineTo(d+g-l,c+f),e.moveTo(d,c+f-h),e.lineTo(d+g,c+f-h),e.moveTo(d+s,c),e.lineTo(d+s,c+f),e.stroke())},slider:m,rangeSlider:b,multipleComboBox:function(r,e,t,o,a){var i=t.getValue("value"),n=t.getValue("dataSource"),l=t.getValue("placeholder"),h=t.getValue("disabled"),s=t.getValue("borderWidth"),u=t.getColor("borderColor"),d=t.getColor("focusBorderColor"),c=t.getValue("borderRadius"),g=t.getColor("background"),f=t.getColor("focusBackground")||g,v=t.getColor("disabledLayerColor"),p=t.getValue("itemFont"),y=t.getColor("itemTextColor"),m=t.getColor("itemBorderWidth"),x=t.getColor("itemBorderColor"),b=t.getColor("itemBorderRadius"),w=t.getColor("itemBackground"),V=t.getColor("itemGradient"),C=t.getColor("itemGradientColor"),k=t.getValue("itemPadding"),D=t.getValue("itemHGap"),T=t.getValue("itemVGap"),_=t.getValue("closeIconOnLeft"),I=t.getValue("closeIconSize"),P=t.getColor("closeIconColor"),S=t.getValue("padding"),L=lo(a,o,t),E=L&&L.editing,M=e.x,A=e.y,R=e.width,B=e.height,O=Yt(S),H=we(O,4),W=H[0],N=H[1],F=H[2],G=H[3],Y=Yt(c),U=we(Y,4),j=U[0],X=U[1],z=U[2],K=U[3],Z=void 0;o&&E?(Z=f,u=d):Z=g,r.beginPath(),ht.Default.drawRoundRect(r,M,A,R,B,j,X,K,z),r.closePath(),Z&&(r.fillStyle=Z,r.fill()),(s&&u||E&&s&&d)&&(r.strokeStyle=E?d:u,r.lineWidth=s,r.stroke());var $=[];i&&n&&i.forEach(function(e){for(var t=0;t<n.length;t++)if(e===n[t].value){$.push(n[t]);break}});var q=[],J=Yt(k),Q=we(J,4),ee=Q[0],te=Q[1],oe=Q[2],ae=Q[3],ie=[M+G-m/2,A+W-m/2,R-G-N+m,B-W-F+m+1];r.save(),r.beginPath(),r.rect.apply(r,ie),r.clip();var re=1,ne=void 0;if(0<$.length){var le=[M+G+m/2,A+W+m/2,R-G-N-m,B-W-F-m],he=le[0],se=le[1],ue=0,de=Yt(b),ce=we(de,4),ge=ce[0],fe=ce[1],ve=ce[2],pe=ce[3],ye=w;$.forEach(function(e){var t=e.label||e.value,o=Gt(p,t);ne||(ne=o.height),ue&&he+o.width+D+m+7>le[0]+le[2]&&(he=le[ue=0],se+=ne+T+m+ee+oe,re++);var a=[he,se,o.width+ae+te+I+2,o.height+ee+oe];m&&(r.beginPath(),r.strokeStyle=x,Ae.apply(void 0,[r].concat(a,[ge,fe,pe,ve])),r.closePath(),w&&(V&&C&&(ye=Be.apply(void 0,[r,V,w,C].concat(a))),r.fillStyle=ye,r.fill()),r.stroke());var i=[a[0]+ae+o.width+2,a[1]+ee,I,a[3]-oe-ee];_&&(i[0]=a[0]+ae,a[0]+=I+2),a[2]=a[2]-I-2,q.push({value:e.value,rect:i}),r.beginPath(),r.strokeStyle=P,r.lineCap="round",r.moveTo(i[0],i[1]+(i[3]-I)/2),r.lineTo(i[0]+i[2],i[1]+(i[3]-I)/2+I),r.moveTo(i[0]+i[2],i[1]+(i[3]-I)/2),r.lineTo(i[0],i[1]+(i[3]-I)/2+I),r.stroke(),Re.apply(void 0,[r,t,p,y].concat(a,["center","middle"])),he+=o.width+D+m+ae+te+I+2,ue++})}else if(l){var me=Gt(p,l),xe=[M+G,A+W,R-G-N,me.height+ee+oe];Re.apply(void 0,[r,l,p,Ve.placeholderColor].concat(xe,["left","middle"])),ne=me.height}if(r.restore(),h){var be=[M-s/2,A-s/2,R+s,B+s];r.save(),r.beginPath(),Ae.apply(void 0,[r].concat(be,[j,X,K,z])),r.clip(),r.fillStyle=v,r.fill(),r.restore()}o&&(o.__suggestHeight=W+F+(ee+oe+ne)*re+T*(re-1)),L&&(L.value=i,L.valueItemInfo=q,L.disabled=h,L.dataSource=n,L.dropIconWidth=t.getValue("dropIconWidth"),L.dropIconHeight=t.getValue("dropIconHeight"),L.dropRowHeight=t.getValue("dropRowHeight"),L.dropWidth=t.getValue("dropWidth"),L.dropBackground=t.getValue("dropBackground"),L.dropLabelFont=t.getValue("dropLabelFont"),L.dropLabelColor=t.getValue("dropLabelColor"),L.dropActiveLabelColor=t.getValue("dropActiveLabelColor"),L.dropActiveBackground=t.getValue("dropActiveBackground"),L.dropHoverBackground=t.getValue("dropHoverBackground"),L.dropMaxHeight=t.getValue("dropMaxHeight"),L.onChange=t.getValue("onChange"),L.hideSelected=t.getValue("hideSelected"),L.maxSelection=t.getValue("maxSelection"))},richTextPane:function(h,e,t,s,u){var o=t.getValue("content"),a=t.getColor("borderColor"),i=t.getValue("borderWidth")||0,r=t.getColor("background"),n=t.getValue("bgGradient"),l=t.getColor("bgGradientColor"),d=t.getValue("showArrow"),c=t.getValue("arrowOrientation"),g=t.getValue("arrowPosition"),f=t.getValue("padding"),v=t.getValue("vGap"),p=t.getValue("hGap"),y=t.getValue("font"),m=t.getValue("color"),x=t.getValue("vAlign"),b=Yt(f),w=we(b,4),V=w[0],C=(w[1],w[2],w[3]),k=e.x+i/2,D=e.y+i/2,T=e.width-i,_=e.height-i,I=[k,D,T,_];if(h.save(),d)if(h.beginPath(),le===c){var P=T-10;h.moveTo(k,D),h.lineTo(k+T,D),h.lineTo(k+T,D+_-10),h.lineTo(k+P*g+10,D+_-10),h.lineTo(k+P*g+5,D+_),h.lineTo(k+P*g,D+_-10),h.lineTo(k,D+_-10),h.closePath(),I=[k,D,T,_-10]}else if(se===c){var S=_-10;h.moveTo(k+10,D),h.lineTo(k+T,D),h.lineTo(k+T,D+_),h.lineTo(k+10,D+_),h.lineTo(k+10,D+S*g+10),h.lineTo(k,D+S*g+5),h.lineTo(k+10,D+S*g),h.closePath(),I=[k+10,D,T-10,_]}else if(he===c){var L=_-10;h.moveTo(k,D),h.lineTo(k+T-10,D),h.lineTo(k+T-10,D+L*g),h.lineTo(k+T,D+L*g+5),h.lineTo(k+T-10,D+L*g+10),h.lineTo(k+T-10,D+_),h.lineTo(k,D+_),h.closePath(),I=[k,D,T-10,_]}else{var E=T-10;h.moveTo(k+E*g,D+10),h.lineTo(k+E*g+5,D),h.lineTo(k+E*g+10,D+10),h.lineTo(k+T,D+10),h.lineTo(k+T,D+_),h.lineTo(k,D+_),h.lineTo(k,D+10),h.closePath(),I=[k,D+10,T,_-10]}else h.beginPath(),h.rect(k,D,T,_);if(r){var M;n&&(r=(M=ht.Default).createGradient.apply(M,[h,n,r,l].concat(be(I)))),h.fillStyle=r,h.fill()}if(a&&i&&(h.lineWidth=i,h.strokeStyle=a,h.stroke()),o){o.length;var A=D+V+(c===ne?10:0);o.forEach(function(e,t){var r=k+C+(c===se?10:0),n=0,l=(o.length,[]);e.forEach(function(e,t){var o=Vo(e.text,s,u),a=Gt(e.font||y,o);n=Math.max(n,a.height),l[t]=a.width}),e.forEach(function(e,t){var o=Vo(e.text,s,u),a=e.font||y,i=e.vAlign||x;h.fillStyle=e.color||m,h.font=a,"top"===(h.textBaseline=i)?h.fillText(o,r,A):"middle"===i?h.fillText(o,r,A+n/2):h.fillText(o,r,A+n),r+=l[t]+p}),A+=v+n})}h.restore()},tree:function(e,t,o,a,i){},chart:function(a,e,t,o,i){var r=t.getValue("series"),n=t.getValue("xAxis"),l=t.getValue("yAxis"),h=t.getValue("tooltip"),s=t.getValue("color"),u=t.getValue("rectSelectable"),d=t.getValue("rectSelectBorderColor"),c=t.getValue("rectSelectBackground");if(r&&r.length){var g,v,p,f,y,m,x,_,I,b={color:s&&s.length?s:Pt,xAxis:_t(n,Ct),yAxis:_t(l,Vt),series:r,tooltip:Et(St),rectSelectable:u,rectSelectBorderColor:d,rectSelectBackground:c},w={seriesDatas:r.map(function(e){return e.data}),rect:e,contentRect:Et(e),valueAxis:R,interactiveInfo:[]};if(g=w,v=[],b.xAxis.forEach(function(e,t){e.show||v.push(2);var o=e.axisLabel.rotate,a=e.axisTick.show?e.axisTick.length:0;if(o){var i=e.data,r=B;o=Math.max(-45,o),o=Math.min(45,o),i&&i.forEach(function(e){e.toString().length>r.length&&(r=e)});var n=Gt(e.axisLabel.font,r),l=new ht.Math.Vector2(0,0),h=new ht.Math.Vector2(n.width,0),s=new ht.Math.Vector2(n.width,n.height),u=new ht.Math.Vector2(0,n.height),d=new ht.Math.Vector2(n.width/2,n.height/2),c=Math.PI*(o/180);l.rotateAround(d,c),h.rotateAround(d,c),s.rotateAround(d,c),u.rotateAround(d,c);var g=ht.Default.unionPoint([l,h,s,u]);v.push(g.height+4+a)}else{var f=Gt(e.axisLabel.font,B);v.push(f.height+4+a)}}),g.xAxisHeights=v,It(b,w),function(e,t){var o=t.xAxisHeights,a=t.yAxisWidths,i=t.contentRect,r=0;t.valueAxis===R&&e.xAxis.forEach(function(e){if(e.axisLabel.show&&e.data){var t=Gt(e.axisLabel.font,e.data[0]);a[0]=Math.max(t.width/2,a[0]),t=Gt(e.axisLabel.font,e.data[e.data.length-1]),r=Math.max(t.width/2,r)}}),i.width-=r;var n,l=i.x,h=i.y,s=i.width,u=i.height,d=[],c=[],g=l,f=h,v=s,p=u,y=0;a.forEach(function(e){v-=e}),o.forEach(function(e){p-=e,y+=e}),v=Math.max(0,v),p=Math.max(0,p),g=l,f=h+(1<o.length?y-o[0]:0),a.forEach(function(e,t){t?d.push({x:g,y:f,width:e,height:p}):(d.push({x:g,y:f,width:e,height:p}),g+=e+v)}),g=l+(0<a.length?a[0]:0),f=h,o.forEach(function(e,t){t?(c.push({x:g,y:f,width:v,height:e}),f+=e):c.push({x:g,y:f+u-e,width:v,height:e})}),n={x:l+a[0]||0,y:h+(1<o.length?y-o[0]:0),width:v,height:p},t.bounds={xAxisRects:c,yAxisRects:d,bodyRect:n}}(b,w),o){var V=lo(i,o,t);if(V){var C=V;w.hoverIndex=C.hoverIndex,w._dragging=C._dragging,w.rectPoint1=C.rectPoint1,w.rectPoint2=C.rectPoint2,C._dragging&&C.rectPoint1&&C.rectPoint2&&(w.selectRect=Mt(C.rectPoint1,C.rectPoint2))}}if(a.fillStyle="rgba(0, 255, 255, 0.1)",a.fillRect(e.x,e.y,e.width,e.height),function(a,e){var i=0,r=e.valueAxis,t=e.bounds,n=void 0,o=void 0;r===R?(n=a.xAxis,o=t.xAxisRects[0]):(n=a.yAxis,o=t.yAxisRects[0]),n.forEach(function(e,t){var o=0;"time"!==n.type&&e.data?o=e.data.length:a.series.forEach(function(e){((r===R?e.xAxisIndex:e.yAxisIndex)||0)===t&&(o=Math.max(o,series.data?series.data.length:0))}),i=Math.max(i,o)});var l=o,h=l.x,s=l.y,u=l.width,d=l.height,c=[],g=void 0,f=void 0;if(r===A){if(1===i)return c.push(s+d/2),c;g=1<i?d/(i-1):0,f=s}else{if(1===i)return c.push(h+u/2),c;g=1<i?u/(i-1):0,f=h}for(var v=0;v<i;v++)c.push(f),f+=g;return c}(b,w).forEach(function(e){w.interactiveInfo.push({position:e,axis:[]})}),p=a,f=b,m=(y=w).interactiveInfo.map(function(e){return e.position}),x=1,f.xAxis.forEach(function(e,o){var t=y.bounds.xAxisRects[o],a=t.x,i=t.y,r=t.width,n=t.height,l=e.data;if(e.axisLine.show&&(p.strokeStyle=e.axisLine.color,p.lineWidth=e.axisLine.width,p.beginPath(),o?(p.moveTo(a,i+n),p.lineTo(a+r,i+n)):(p.moveTo(a,i),p.lineTo(a+r,i)),p.stroke()),e.axisLabel.show||e.axisTick.show){var h=e.axisLabel.font,s=e.axisLabel.color,u=e.axisLabel.align,d=e.axisTick.length,c=o?i:i+2+(e.axisTick.show?e.axisTick.length:0),g=0,f=[];l.forEach(function(e){var t=Gt(h,e);f.push(t),g+=t.width}),g>t.width&&!o&&(x=Math.ceil(g/t.width)),e.axisTick.show&&d&&(p.strokeStyle=e.axisTick.color,p.beginPath(),m.forEach(function(e,t){t%x==0&&(o?(p.moveTo(e,i+n),p.lineTo(e,i+n-d)):(p.moveTo(e,i),p.lineTo(e,i+d)))}),p.stroke()),e.axisLabel.show&&l.forEach(function(e,t){if(t%x==0){var o=f[t];ht.Default.drawText(p,e.toString(),h,s,m[t]-o.width/2,c,o.width,o.height,u)}})}}),_=a,I=w,b.yAxis.forEach(function(e,o){var t=I.bounds.yAxisRects[o],a=t.x,i=t.y,r=t.width,n=t.height;if(e.axisLine.show&&(_.strokeStyle=e.axisLine.color,_.lineWidth=e.axisLine.width,_.beginPath(),o?(_.moveTo(a,i),_.lineTo(a,i+n)):(_.moveTo(a+r,i),_.lineTo(a+r,i+n)),_.stroke()),e.axisLabel.show){for(var l=e.valueRange,h=we(l,3),s=h[0],u=h[1],d=h[2],c=u-s,g=[],f=0;f<=u&&s<=f;)g.push(f),f+=d;if(u!==g[g.length-1]&&g.push(u),s<0){for(f=0-d;s<=f;)g.unshift(f),f+=d;s!==g[0]&&g.unshift(s)}var v=void 0;e.axisTick.show&&(v=e.axisTick.length)&&(_.strokeStyle=e.axisTick.color,_.beginPath(),g.forEach(function(e){var t=i+n*(1-(e-s)/c);o?(_.moveTo(a,t),_.lineTo(a+v,t)):(_.moveTo(a+r,t),_.lineTo(a+r-v,t))}),_.stroke());var p=r-2-(e.axisTick.show?v:0),y=e.axisLabel.font,m=e.axisLabel.color,x="auto"===e.axisLabel.align?o?se:he:e.axisLabel.align,b=Gt(y,B),w=a+(o?v:0);if(g.forEach(function(e){var t=i+n*(1-(e-s)/c)-b.height/2;ht.Default.drawText(_,e.toString(),y,m,w,t,p,b.height,x)}),e.splitLine.show){var V=I.bounds.bodyRect,C=V.x,k=V.y,D=V.width,T=V.height;_.strokeStyle=e.splitLine.color,_.beginPath(),g.forEach(function(e,t){if(0!==t){var o=k+T*(1-(e-s)/c);_.moveTo(C,o),_.lineTo(C+D,o)}}),_.stroke()}}}),r&&r.length&&(r.forEach(function(e,t){var o=(w.valueAxis===R?e.yAxisIndex:e.xAxisIndex)||0;!function(a,e,t,o,i){var r=e.data,n=t.ui.bounds,l=(n.xAxisRects,n.yAxisRects,n.bodyRect),h=(l.x,l.y),s=(l.width,l.height),u=(t.index,t.ui),d=t.xAxis,c=(t.yAxis,t.valueRange),g=(u.axisData,u.hoverIndex),f=e.name||null,v=c[0],p=c[1]-v,y=u.interactiveInfo,m=y.map(function(e){return e.position}),x=(u.valueAxis===A?e.yAxisIndex:e.xAxisIndex)||0;if(r&&r.length){var b=[],w=e.color||t.color;a.lineWidth=1,r.forEach(function(e,t){if(y[t]){var o=y[t].axis,a=(1-e/p)*s+h,i=void 0;b.push({x:m[t],y:a}),o[x]?i=o[x]:(i={label:d.data[t],datas:[]},y[t].axis[x]=i),i.datas.push([f,e])}}),a.strokeStyle=w,ht.Default.drawPoints(a,b),a.stroke(),a.beginPath(),r.forEach(function(e,t){var o=(1-e/p)*s+h;a.moveTo(m[t],o),a.arc(m[t],o,g===t?3:2,0,2*Math.PI)}),a.stroke(),a.fillStyle="#fff",a.fill()}}(a,e,{valueRange:b.yAxis[o].valueRange,yAxis:b.yAxis[e.yAxisIndex||0],xAxis:b.xAxis[e.xAxisIndex||0],color:vo(b.color,t),index:t,ui:w})}),void 0!==w.hoverIndex)){var k=w.interactiveInfo[w.hoverIndex].position,D=w.bounds.bodyRect;a.strokeStyle="rgba(0, 0, 0, 0.3)",a.beginPath(),a.moveTo(k,D.y),a.lineTo(k,D.y+D.height),a.stroke()}if(w.selectRect){var T=w.selectRect,P=T.x,S=T.y,L=T.width,E=T.height;a.fillStyle=c,a.fillRect(P,S,L,E),a.strokeStyle=d,a.strokeRect(P,S,L,E)}if(go(b.tooltip,h),o){var M=lo(i,o,t);M.ui=w,M.option=b}}}},pieInteractor:new Nt,buttonInteractor:new W,inputInteractor:new M,textAreaInteractor:new E,radioInteractor:new Fe,checkboxInteractor:new Ge,colorPickerInteractor:new Ke,dateTimePickerInteractor:new Ze,comboBoxInteractor:new tt,tableInteractor:new at,sliderInteractor:new nt,rangeSliderInteractor:new st,multipleComboBoxInteractor:new dt,chartInteractor:new xt,inputNumberInteractor:new O,Color:v,ListView:Je,ListDropDown:Qe,getVectorInfo:lo,caluMultilineSize:function(e,t){var o=e.a("ht.content"),a=e.a(C.FONT),i=e.a(C.LINE_HEIGHT),r=e.a(C.PADDING),n=Yt(r),l=we(n,4),h=l[0],s=l[1],u=l[2],d=l[3],c=o.split(/\n/),g=0;return c.forEach(function(e){var t=Gt(a,e);g=Math.max(g,t.width)}),{width:g+d+s,height:c.length*i+h+u}},caluRichTextPaneSize:function(n,l){var e=n.a("ht.content"),t=n.a("ht.borderWidth")||1,o=n.a("ht.padding"),a=n.a("ht.showArrow"),i=n.a("ht.arrowOrientation"),r=n.a("ht.vGap"),h=n.a("ht.hGap"),s=n.a("ht.font"),u=Yt(o),d=we(u,4),c=d[0],g=d[1],f=d[2],v=d[3]+g+t,p=c+f+t;a&&(i===se||i===he?v+=10:p+=10);var y=0,m=0;return e&&(e.forEach(function(e,t){var i=0,r=(e.length-1)*h;e.forEach(function(e,t){var o=Vo(e.text,n,l),a=Gt(e.font||s,o);i=Math.max(i,a.height),r+=a.width}),y=Math.max(y,r),m+=i}),m+=(e.length-1)*r),{width:v+=y,height:p+=m}}},ko="0.0.6";return function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===o&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".ht-vector-tooltip{\n    box-sizing: border-box;\n    padding: 5px 12px;\n    margin: 0;\n    position: absolute;\n    background-color: rgba(0, 0, 0, 0.5);\n    color: rgb(247, 247, 247);\n    border-radius: 5px;\n    /* -webkit-transition: all 0.5s;\n    transition: all 0.5s; */\n}\n",{}),Co.openColorDropDown=je,Co.openDateTimeDropDown=ze,Co.getFormData=function(e,t){var n={},l=t?t.getChildren():e.dm().getDatas();return l.each(function(e){var t=e.a(C.FORM_ITEM_NAME),o=e.a(C.FORM_ITEM_GROUP);if(t)n[t]=Qt(e);else if(o&&!n[C.FORM_ITEM_GROUP])if(e.a(C.INPUT_TYPE)===x)for(var a=0;a<l.length;a++){var i=l.get(a);if(o===i.a(C.FORM_ITEM_GROUP)&&i.a(C.CHECKED)){n[o]=Qt(i);break}}else if(e.a(C.INPUT_TYPE)===V){var r=[];l.each(function(e){o===e.a(C.FORM_ITEM_GROUP)&&e.a(C.CHECKED)&&r.push(Qt(e))}),n[o]=r}}),n},Co.selectFile=oo,Co.getVersion=function(){return ko},Co}();
!function(){"use strict";var p;ht.Default.setImage("ht.watermark",{width:400,height:400,attachStyle:"close",comps:[{type:"text",text:"图扑软件",color:"rgba(138,138,138,0.30)",shadowOffsetX:0,opacity:.5,scaleX:2,scaleY:2,rotation:-.74609,rect:[174.33111,152.28285,50,50]},{type:"text",text:"Hightopo",color:"rgba(138,138,138,0.30)",shadowOffsetX:0,opacity:.5,scaleX:2,scaleY:2,rotation:-.74609,rect:[196.45735,176.22095,50,50]},{type:"shape",background:"rgba(138,138,138,0.30)",pixelPerfect:!0,opacity:.15,rotation:-.7854,points:[112.93689,247.93891,112.93689,232.2239,125.71074,219.47888,141.39691,219.47888,141.39691,219.47888,157.11193,219.47888,169.85694,232.25273,169.85694,247.93891,169.85694,247.93891,169.85694,263.65391,157.08309,276.39894,141.39691,276.39894,112.93689,276.39894,112.93689,247.93891],segments:[1,4,2,4,2,4,2,2]},{type:"shape",background:"rgba(138,138,138,0.30)",pixelPerfect:!0,opacity:.5,rotation:-.7854,points:[103.74837,261.6275,97.69304,261.6275,92.79112,256.72557,92.79112,250.67025,92.79112,250.67025,92.79112,244.61491,97.69304,239.71299,103.74837,239.71299,103.74837,239.71299,109.80369,239.71299,114.70563,244.61491,114.70563,250.67025,114.70563,261.6275,103.74837,261.6275],segments:[1,4,2,4,2,4,2,2]},{type:"shape",background:"rgba(140,140,140,0.19)",pixelPerfect:!0,opacity:.5,rotation:-.7854,points:[124.64535,247.52737,121.214,247.52737,118.47469,245.0764,118.47469,242.04874,118.47469,236.57011,147.30957,236.57011,150.74092,236.57011,153.48024,239.02107,153.48024,242.04874,153.48024,242.04874,153.48024,245.0764,150.71209,247.52737,147.30957,247.52737],segments:[1,4,2,2,4,2,4]},{type:"shape",background:"rgba(140,140,140,0.19)",gradient:"linear.north",gradientColor:"rgba(140,140,140,0.00)",fillRule:"evenodd",opacity:.5,shadowColor:"rgba(0,0,0,0.39)",rotation:-.7854,points:[142.40436,267.14926,148.64376,267.14926,152.08969,267.14926,154.88317,264.92047,154.88317,262.17653,154.88317,242.28081,142.40436,242.28081],segments:[1,2,4,2,2]}]}),p=400,setTimeout(function(c){c||((c=new ht.graph.GraphView).addToDOM(),c.getView().style.pointerEvents="none"),c.addTopPainter(function(t){for(var e=c.getViewRect(),a=e.x,o=e.y,r=e.width,i=e.height,n=o;n*p<i;n++)for(var s=0;s*p<r;s++)ht.Default.drawImage(t,ht.Default.getImage("ht.watermark"),a+s*p,o+n*p,p,p)})},500)}();
